# ุฏููู ุงูุฅุตูุงุญ ุงูุณุฑูุน ูุฃุฎุทุงุก VPS

## ๐จ ุงูุฃุฎุทุงุก ุงูููุชุดูุฉ

### 1. **ุฃุฎุทุงุก ุงูุดุนุงุฑ (Logo)**
```
api/settings/logo: Failed to load resource: net::ERR_INTERNET_DISCONNECTED
```

### 2. **ุฎุทุฃ ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ**
```
api/financial/opening-balances: 500 Internal Server Error
```

### 3. **ุฎุทุฃ ุฅูุดุงุก ุงูุนููุงุก**
```
api/sales/customers: 400 Bad Request
```

---

## โก ุงูุญู ุงูุณุฑูุน (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1: ุชุทุจูู ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# SSH ุฅูู VPS
ssh user@your-vps-ip

# ุชุทุจูู ุณูุฑููพุช ุงูุฅุตูุงุญ
psql $DATABASE_URL -f fix-vps-database.sql
```

### ุงูุฎุทูุฉ 2: ุฑูุน ุงูููุฏ ุงููุญุฏุซ
```bash
# ูู ุงููุฌูุฏ ุงููุญูู
git add .
git commit -m "Fix VPS errors - database schema and API updates"
git push origin main

# ูู VPS
cd /path/to/your/app
git pull origin main
npm install
```

### ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุงุช
```bash
# ุฅุฐุง ูุงู ูุณุชุฎุฏู PM2
pm2 restart all

# ุฅุฐุง ูุงู ูุณุชุฎุฏู Docker
docker-compose restart

# ุฅุฐุง ูุงู ูุณุชุฎุฏู Coolify
# ุฅุนุงุฏุฉ deploy ูู ููุญุฉ ุงูุชุญูู
```

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงููุธุงู
```bash
# ุชุดุบูู ุณูุฑููพุช ุงูุงุฎุชุจุงุฑ
node test-vps-apis.js
```

---

## ๐ง ุฅุตูุงุญุงุช ูุญุฏุฏุฉ

### ุฅุตูุงุญ ูุดููุฉ ุงูุดุนุงุฑ
```bash
# ุฅูุดุงุก ูุฌูุฏ uploads
mkdir -p /app/data/uploads
chmod 755 /app/data/uploads

# ุญุฐู ุฅุนุฏุงุฏุงุช ุงูุดุนุงุฑ ุงูููุณูุฑุฉ
psql $DATABASE_URL -c "DELETE FROM settings WHERE key LIKE 'logo%';"
```

### ุฅุตูุงุญ ูุดููุฉ ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ
```sql
-- ุฅุถุงูุฉ ุงูุนููุฏ ุงูููููุฏ
ALTER TABLE accounts ADD COLUMN IF NOT EXISTS isMonitored BOOLEAN DEFAULT false;
```

### ุฅุตูุงุญ ูุดููุฉ ุงูุนููุงุก
```sql
-- ุฅูุดุงุก ุฌุฏูู ุงูุนููุงุก
CREATE TABLE IF NOT EXISTS customers (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    code VARCHAR(50) UNIQUE,
    name VARCHAR(200) NOT NULL,
    type VARCHAR(20) DEFAULT 'individual',
    email VARCHAR(100),
    phone VARCHAR(50),
    isActive BOOLEAN DEFAULT true,
    createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูุณุฑูุนุฉ

### โ ูุจู ุงูุฅุตูุงุญ:
- [ ] ุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุงูุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุตูู ููุฎุงุฏู
- [ ] ุงูุชุฃูุฏ ูู ุฑุงุจุท VPS ุงูุตุญูุญ

### โ ุฃุซูุงุก ุงูุฅุตูุงุญ:
- [ ] ุชุทุจูู ุณูุฑููพุช ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุฑูุน ุงูููุฏ ุงููุญุฏุซ
- [ ] ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุงุช
- [ ] ุงุฎุชุจุงุฑ APIs ุงูุฃุณุงุณูุฉ

### โ ุจุนุฏ ุงูุฅุตูุงุญ:
- [ ] ุชุณุฌูู ุงูุฏุฎูู ูุนูู
- [ ] ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ูุนูู
- [ ] ุฅูุดุงุก ุนููู ุฌุฏูุฏ ูุนูู
- [ ] ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ ุชุนูู
- [ ] ุงูุดุนุงุฑ ูุง ูุธูุฑ ุฃุฎุทุงุก

---

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุชุทุจูู ูุฐู ุงูุฅุตูุงุญุงุชุ ูุฌุจ ุฃู:

โ **ุชุฎุชูู ุฌููุน ุงูุฃุฎุทุงุก ุงูุชุงููุฉ:**
- `api/settings/logo: Failed to load resource`
- `api/financial/opening-balances: 500 Internal Server Error`
- `api/sales/customers: 400 Bad Request`

โ **ุชุนูู ุฌููุน ุงููุธุงุฆู ุงูุชุงููุฉ:**
- ุชุณุฌูู ุงูุฏุฎูู ูุงูุฎุฑูุฌ
- ุนุฑุถ ูุงุฆูุฉ ุงูุญุณุงุจุงุช
- ุฅูุดุงุก ุญุณุงุจุงุช ุฌุฏูุฏุฉ
- ุนุฑุถ ูุฅูุดุงุก ุงูุนููุงุก
- ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ
- ุงูููุฎุต ุงููุงูู

---

## ๐ ุฅุฐุง ูู ุชูุฌุญ ุงูุฅุตูุงุญุงุช

### ุชุดุฎูุต ุฅุถุงูู:
```bash
# ูุญุต logs ุงูุฎุงุฏู
pm2 logs
# ุฃู
docker logs container-name

# ูุญุต ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
psql $DATABASE_URL -c "\dt"

# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
psql $DATABASE_URL -c "SELECT COUNT(*) FROM accounts;"
```

### ุฅุตูุงุญุงุช ูุชูุฏูุฉ:
```bash
# ุฅุนุงุฏุฉ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฎุทุฑ!)
# ููุท ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุบูุฑ ูููุฉ
dropdb database_name
createdb database_name
psql database_name -f fix-vps-database.sql
```

### ุทูุจ ุงููุณุงุนุฏุฉ:
ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงููุ ุฃุฑุณู:
1. **Logs ุงูุฎุงุฏู** (ุขุฎุฑ 50 ุณุทุฑ)
2. **ุฑุณุงุฆู ุงูุฎุทุฃ** ูู ุงููุชุตูุญ
3. **ูุชุงุฆุฌ ุณูุฑููพุช ุงูุงุฎุชุจุงุฑ**
4. **ูุนูููุงุช ุงูุจูุฆุฉ** (Node.js version, Database version)

---

## ๐ ูุนูููุงุช ุงูุฏุนู

- **ุงููููุงุช ุงููุทููุจุฉ**: `fix-vps-database.sql`, `test-vps-apis.js`
- **ุงูููุช ุงููุชููุน**: 5-10 ุฏูุงุฆู
- **ูุณุชูู ุงูุตุนูุจุฉ**: ูุชูุณุท
- **ุงููุฎุงุทุฑ**: ููุฎูุถุฉ (ูุน ุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ)

**ุงููุฏู: ุฌุนู ุงููุณุฎุฉ ุนูู VPS ุชุนูู ูุซู ุงููุณุฎุฉ ุงููุญููุฉ ุชูุงูุงู** ๐ฏ
