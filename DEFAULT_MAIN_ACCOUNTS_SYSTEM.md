# ูุธุงู ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูุงูุชุฑุงุถูุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูุถูุงู ูุฌูุฏ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุงููุธุงู ุงููุญุงุณุจู ุนูุฏ ุงููุดุฑ ุนูู ุฃู ุงุณุชุถุงูุฉ. ุงููุธุงู ูุถูู ุฅูุดุงุก 5 ุญุณุงุจุงุช ุฑุฆูุณูุฉ ุชููุงุฆูุงู ูููุงู ููุชุตููู ุงููุญุงุณุจู ุงูุชูููุฏู.

## ๐ฏ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูุงูุชุฑุงุถูุฉ

| ุงูููุฏ | ุงุณู ุงูุญุณุงุจ | ุงูููุน | ุงูุทุจูุนุฉ | ุงูุชูุฑูุฑ | ุงููุตู |
|-------|------------|-------|---------|----------|--------|
| 1 | ุงูุฃุตูู | asset | ูุฏูู | ุงูููุฒุงููุฉ ุงูุนููููุฉ | ุฌููุน ุงูุฃุตูู ุงููููููุฉ ููุดุฑูุฉ |
| 2 | ุงููุตุฑููุงุช | expense | ูุฏูู | ูุงุฆูุฉ ุงูุฏุฎู | ุฌููุน ุงููุตุฑููุงุช ุงูุชุดุบูููุฉ ูุงูุฅุฏุงุฑูุฉ |
| 3 | ุงูุงูุชุฒุงูุงุช | liability | ุฏุงุฆู | ุงูููุฒุงููุฉ ุงูุนููููุฉ | ุฌููุน ุงูุฏููู ูุงูุงูุชุฒุงูุงุช ุงููุงููุฉ |
| 4 | ุญููู ุงูููููุฉ | equity | ุฏุงุฆู | ุงูููุฒุงููุฉ ุงูุนููููุฉ | ุฑุฃุณ ุงููุงู ูุงูุฃุฑุจุงุญ ุงููุญุชุฌุฒุฉ |
| 5 | ุงูุฅูุฑุงุฏุงุช | revenue | ุฏุงุฆู | ูุงุฆูุฉ ุงูุฏุฎู | ุฌููุน ุงูุฅูุฑุงุฏุงุช ูู ุงููุจูุนุงุช ูุงูุฎุฏูุงุช |

## ๐๏ธ ููููุงุช ุงููุธุงู

### 1. ููู ุงูุญุณุงุจุงุช ุงูุงูุชุฑุงุถูุฉ
**ุงููุณุงุฑ**: `server/src/utils/ensureDefaultAccounts.js`

ูุญุชูู ุนูู:
- ุชุนุฑูู ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูุงูุชุฑุงุถูุฉ
- ุฏุงูุฉ `ensureDefaultMainAccounts()` ูุถูุงู ูุฌูุฏ ุงูุญุณุงุจุงุช
- ุฏุงูุฉ `validateMainAccounts()` ููุชุญูู ูู ุตุญุฉ ุงูุญุณุงุจุงุช

### 2. Seeder ููุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ
**ุงููุณุงุฑ**: `server/src/seeders/001-default-main-accounts.js`

- Seeder ูุชูุงูู ูุน Sequelize CLI
- ูููู ุชุดุบููู ุจุงุณุชุฎุฏุงู `npm run db:seed`
- ูุชุญูู ูู ุงูุญุณุงุจุงุช ุงูููุฌูุฏุฉ ูุจู ุงูุฅูุดุงุก

### 3. ุณูุฑููพุช ุถูุงู ุงูุญุณุงุจุงุช
**ุงููุณุงุฑ**: `server/src/scripts/ensureMainAccounts.js`

- ุณูุฑููพุช ูุณุชูู ูุถูุงู ูุฌูุฏ ุงูุญุณุงุจุงุช
- ูููู ุชุดุบููู ุจุงุณุชุฎุฏุงู `npm run ensure-main-accounts`
- ูุชุถูู ุงูุชุญูู ูู ุตุญุฉ ุงูุญุณุงุจุงุช

### 4. ุชูุงูู ูุน ุจุฏุก ุงููุธุงู
**ุงููุณุงุฑ**: `server/src/utils/databaseInit.js`

- ูุชู ุงุณุชุฏุนุงุก ุฏุงูุฉ ุถูุงู ุงูุญุณุงุจุงุช ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงููุธุงู
- ูุถูู ูุฌูุฏ ุงูุญุณุงุจุงุช ูู ูู ูุฑุฉ ูุจุฏุฃ ูููุง ุงูุฎุงุฏู

## ๐ ุทุฑู ุงูุชุดุบูู

### 1. ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงููุธุงู
```bash
npm start
# ุฃู
npm run dev
```
ุงููุธุงู ุณูุชุญูู ุชููุงุฆูุงู ูู ูุฌูุฏ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ููููุดุฆูุง ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ.

### 2. ูุฏููุงู ุจุงุณุชุฎุฏุงู ุงูุณูุฑููพุช ุงููุฎุตุต
```bash
npm run ensure-main-accounts
```

### 3. ุจุงุณุชุฎุฏุงู Sequelize Seeder
```bash
npm run db:seed
```

### 4. ุนูุฏ ุงููุดุฑ
```bash
npm run deploy
```
ูุชุถูู ุฃูุฑ ุงููุดุฑ ุชุดุบูู ุถูุงู ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ.

## ๐ฆ ุฅุนุฏุงุฏุงุช ุงููุดุฑ

### Nixpacks (Coolify/Railway)
ุชู ุชุญุฏูุซ `nixpacks.toml` ููุชุถูู ูุฑุญูุฉ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```toml
[phases.setup-db]
cmds = [
    "cd server && npm run ensure-main-accounts"
]
```

### Package.json Scripts
ุชู ุฅุถุงูุฉ ุงูุณูุฑููพุชุงุช ุงูุชุงููุฉ:

```json
{
  "ensure-main-accounts": "node src/scripts/ensureMainAccounts.js",
  "prepare-production": "npm run clean-database && npm run setup-production && npm run ensure-main-accounts",
  "deploy": "node src/scripts/checkDeployment.js && npm run db:migrate && npm run ensure-main-accounts && npm run seed-basic-data"
}
```

## ๐ง ุงูููุฒุงุช

### 1. ุงูุฃูุงู ูุงูููุซูููุฉ
- โ ุงูุชุญูู ูู ูุฌูุฏ ุงูุญุณุงุจุงุช ูุจู ุงูุฅูุดุงุก
- โ ุนุฏู ุงููุชุงุจุฉ ููู ุงูุญุณุงุจุงุช ุงูููุฌูุฏุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุดุงููุฉ
- โ ุฑุณุงุฆู ูุงุถุญุฉ ูููุตูุฉ

### 2. ุงููุฑููุฉ
- โ ูุนูู ูุน SQLite ู PostgreSQL
- โ ูุชูุงูู ูุน ุฌููุน ููุตุงุช ุงูุงุณุชุถุงูุฉ
- โ ูููู ุชุดุบููู ูู ุฃู ููุช ุฏูู ูุดุงูู
- โ ูุงุจู ููุชุฎุตูุต ูุงูุชูุณูุน

### 3. ุงูุชูุงูู
- โ ูุนูู ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงููุธุงู
- โ ูุชูุงูู ูุน ุนูููุฉ ุงููุดุฑ
- โ ูุชูุงูู ูุน ุฃุฏูุงุช CI/CD
- โ ูุฏุนู ุงูุจูุฆุงุช ุงููุฎุชููุฉ (development/production)

## ๐ ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### ุนูุฏ ุจุฏุก ุงููุธุงู ูุฃูู ูุฑุฉ:
```
๐ ุงูุชุญูู ูู ูุฌูุฏ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูุงูุชุฑุงุถูุฉ...
๐ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูููุฌูุฏุฉ: ูุง ุชูุฌุฏ
๐ ุณูุชู ุฅูุดุงุก 5 ุญุณุงุจ ุฑุฆูุณู ููููุฏ
  โ 1 - ุงูุฃุตูู (asset) - ุทุจูุนุฉ: debit
  โ 2 - ุงููุตุฑููุงุช (expense) - ุทุจูุนุฉ: debit
  โ 3 - ุงูุงูุชุฒุงูุงุช (liability) - ุทุจูุนุฉ: credit
  โ 4 - ุญููู ุงูููููุฉ (equity) - ุทุจูุนุฉ: credit
  โ 5 - ุงูุฅูุฑุงุฏุงุช (revenue) - ุทุจูุนุฉ: credit
โ ุชู ุฅูุดุงุก 5 ุญุณุงุจ ุฑุฆูุณู ุฌุฏูุฏ
```

### ุนูุฏ ุจุฏุก ุงููุธุงู ูุน ูุฌูุฏ ุงูุญุณุงุจุงุช:
```
๐ ุงูุชุญูู ูู ูุฌูุฏ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูุงูุชุฑุงุถูุฉ...
๐ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูููุฌูุฏุฉ: 1, 2, 3, 4, 5
โ ุฌููุน ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ููุฌูุฏุฉ ุจุงููุนู
```

## ๐๏ธ ุงูุตูุงูุฉ ูุงูุชุทููุฑ

### ุฅุถุงูุฉ ุญุณุงุจุงุช ุฌุฏูุฏุฉ
ูุฅุถุงูุฉ ุญุณุงุจุงุช ุฑุฆูุณูุฉ ุฌุฏูุฏุฉุ ูู ุจุชุญุฏูุซ:
1. `DEFAULT_MAIN_ACCOUNTS` ูู `ensureDefaultAccounts.js`
2. `expectedClassification` ูู ุฏุงูุฉ `validateMainAccounts()`

### ุงูุชุฎุตูุต
ูููู ุชุฎุตูุต:
- ุฃุณูุงุก ุงูุญุณุงุจุงุช
- ุฃููุงุฏ ุงูุญุณุงุจุงุช
- ุฃูุตุงู ุงูุญุณุงุจุงุช
- ุงูุนููุฉ ุงูุงูุชุฑุงุถูุฉ

### ุงูุงุฎุชุจุงุฑ
```bash
# ุงุฎุชุจุงุฑ ุงููุธุงู
node server/test-ensure-accounts.js

# ุงูุชุญูู ูู ุงูุญุณุงุจุงุช
npm run ensure-main-accounts
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุญุณุงุจุงุช ุงููุธุงู**: ุฌููุน ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ููุนููุฉ ูู `isSystemAccount: true`
2. **ุนุฏู ุงูุญุฐู**: ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ูุญููุฉ ูู ุงูุญุฐู ุงูุนุฑุถู
3. **ุงูุชุญุฏูุซ ุงูุขูู**: ูููู ุชุญุฏูุซ ุฎุตุงุฆุต ุงูุญุณุงุจุงุช ุฏูู ููุฏุงู ุงูุจูุงูุงุช
4. **ุงูุชูุงูู**: ุงููุธุงู ูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ

## โ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ูุธุงู ุดุงูู ูููุซูู ูุถูุงู ูุฌูุฏ ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุงููุธุงู ุงููุญุงุณุจู. ุงููุธุงู:

- โ ูุนูู ุชููุงุฆูุงู ุนูุฏ ุงููุดุฑ ุนูู ุฃู ุงุณุชุถุงูุฉ
- โ ูุถูู ูุฌูุฏ 5 ุญุณุงุจุงุช ุฑุฆูุณูุฉ ุจุงูุชุตููู ุงูุตุญูุญ
- โ ุขูู ูููุซูู ููุง ูุคุซุฑ ุนูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- โ ูุงุจู ููุตูุงูุฉ ูุงูุชุทููุฑ
- โ ูุชูุงูู ูุน ุฌููุน ุฃุฌุฒุงุก ุงููุธุงู

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2025-01-13  
**ุงูุญุงูุฉ**: ููุชูู ูููุฎุชุจุฑ โ  
**ุงููุทูุฑ**: Augment Agent
