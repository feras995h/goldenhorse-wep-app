# ุชูุฑูุฑ ุชุฏููู ููุญุฉ ุงููุญุงุณุจุฉ
## ุงูุชุงุฑูุฎ: 2025-10-05 ุงูุณุงุนุฉ 03:33

---

## ๐ ูุชุงุฆุฌ ุงูุชุฏููู ุงูุดุงูู

### โ ุงูุฌุฏุงูู ุงูุชู ุชู ูุญุตูุง

#### 1. accounts
- **ุงูุชูุณูู**: camelCase
- **ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ**: `id`, `code`, `name`, `accountType`, `isActive`, `balance`
- **ุงูุญุงูุฉ**: โ ุตุญูุญ

#### 2. gl_journals
- **ุงูุชูุณูู**: snake_case
- **ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ**: `id`, `journal_no`, `journal_date`, `total_debit`, `total_credit`
- **ุงูุญุงูุฉ**: โ ุตุญูุญ - ุงูููุฏ ูุณุชุฎุฏู snake_case ุจุดูู ุตุญูุญ

#### 3. posting_journal_entries
- **ุงูุชูุณูู**: snake_case
- **ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ**: `id`, `journal_id`, `account_id`, `debit_amount`, `credit_amount`
- **ุงูุญุงูุฉ**: โ ุตุญูุญ - ุงูููุฏ ูุณุชุฎุฏู snake_case ุจุดูู ุตุญูุญ

#### 4. sales_invoices
- **ุงูุชูุณูู**: camelCase
- **ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ**: `id`, `customerId`, `total`, `isActive`, `date`
- **ุงูุญุงูุฉ**: โ ุชู ุงูุฅุตูุงุญ

#### 5. customers
- **ุงูุชูุณูู**: camelCase
- **ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ**: `id`, `code`, `name`, `balance`
- **ุงูุญุงูุฉ**: โ ุตุญูุญ

#### 6. receipts
- **ุงูุชูุณูู**: camelCase
- **ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ**: `id`, `customerId`, `amount`, `status`
- **ุงูุญุงูุฉ**: โ ุตุญูุญ

#### 7. payments
- **ุงูุชูุณูู**: camelCase
- **ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ**: `id`, `customerId`, `supplierId`, `amount`
- **ุงูุญุงูุฉ**: โ ุตุญูุญ

---

## ๐ง ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### 1. sales.js - ุฎุทุฃ ูู ุงุณุชุนูุงู ุงููุจูุนุงุช โ
**ุงููููุน**: `/api/sales/summary`

**ุงููุดููุฉ**:
```sql
COALESCE(COUNT(DISTINCT si.customer_id), 0) as active_customers
```

**ุงูุญู**:
```sql
COALESCE(COUNT(DISTINCT si."customerId"), 0) as active_customers
```

**ุงูุญุงูุฉ**: โ ุชู ุงูุฅุตูุงุญ

---

### 2. financial.js - ุฎุทุฃ ูู ุงุณุชุนูุงู ุฃุฑุตุฏุฉ ุงูุนููุงุก โ
**ุงููููุน**: `/api/financial/health` ู `/api/financial/recalculate-balances`

**ุงููุดููุฉ** (ุณุทุฑ 10791 ู 10901):
```sql
LEFT JOIN sales_invoices si ON c.id = si."customer_id"
```

**ุงูุญู**:
```sql
LEFT JOIN sales_invoices si ON c.id = si."customerId"
```

**ุงูุญุงูุฉ**: โ ุชู ุงูุฅุตูุงุญ (ูุฑุชูู)

---

## ๐ ููุฎุต ุงูุชูุณููุงุช

### ุงูุฌุฏุงูู ุงูุชู ุชุณุชุฎุฏู camelCase:
- โ accounts
- โ sales_invoices
- โ customers
- โ suppliers
- โ receipts
- โ payments
- โ shipments
- โ account_mappings

### ุงูุฌุฏุงูู ุงูุชู ุชุณุชุฎุฏู snake_case:
- โ gl_journals
- โ posting_journal_entries
- โ gl_entries
- โ journal_entries
- โ journal_entry_details

**ููุงุญุธุฉ ูููุฉ**: ุงูุฌุฏุงูู ุงููุญุงุณุจูุฉ ุงููุฏููุฉ (gl_*, journal_*) ุชุณุชุฎุฏู snake_case ููุฐุง ุตุญูุญ. ุงูููุฏ ูู `accounting.js` ูุชุนุงูู ูุนูุง ุจุดูู ุตุญูุญ.

---

## โ ุงูุงุณุชุนูุงูุงุช ุงูุชู ุชู ุงูุชุญูู ูููุง

### 1. ุงุณุชุนูุงูุงุช ุงููุจูุนุงุช
- โ `/api/sales/summary` - ุชู ุฅุตูุงุญู
- โ `/api/sales/invoices` - ูุนูู ุจุดูู ุตุญูุญ
- โ `/api/sales/reports` - ูุนูู ุจุดูู ุตุญูุญ

### 2. ุงุณุชุนูุงูุงุช ุงููุญุงุณุจุฉ
- โ `/api/accounting/journals` - ูุนูู ุจุดูู ุตุญูุญ (snake_case)
- โ `/api/accounting/entries` - ูุนูู ุจุดูู ุตุญูุญ (snake_case)
- โ `/api/accounting/accounts` - ูุนูู ุจุดูู ุตุญูุญ (camelCase)

### 3. ุงุณุชุนูุงูุงุช ุงููุงููุฉ
- โ `/api/financial/health` - ุชู ุฅุตูุงุญู
- โ `/api/financial/recalculate-balances` - ุชู ุฅุตูุงุญู
- โ `/api/financial/vouchers/receipts` - ูุนูู ุจุดูู ุตุญูุญ
- โ `/api/financial/vouchers/payments` - ูุนูู ุจุดูู ุตุญูุญ

---

## ๐ฏ ุงูุชูุตูุงุช

### ููุชุทููุฑ ุงููุณุชูุจูู:

1. **ุงูุชุฒู ุจุงูุชูุณูู ุงูุตุญูุญ**:
   - ุงุณุชุฎุฏู **camelCase** ููุฌุฏุงูู ุงูุฌุฏูุฏุฉ (accounts, customers, sales_invoices)
   - ุงุณุชุฎุฏู **snake_case** ููุฌุฏุงูู ุงููุญุงุณุจูุฉ ุงููุฏููุฉ (gl_journals, posting_journal_entries)

2. **ุงุณุชุฎุฏู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุงููุฒุฏูุฌุฉ**:
   ```sql
   -- ุตุญูุญ
   SELECT si."customerId" FROM sales_invoices si
   
   -- ุฎุทุฃ
   SELECT si.customer_id FROM sales_invoices si
   ```

3. **ุงุฎุชุจุฑ ุงูุงุณุชุนูุงูุงุช**:
   - ุงุณุชุฎุฏู `audit-accounting-routes.js` ููุชุญูู ูู ุงูุงุณุชุนูุงูุงุช
   - ุงุฎุชุจุฑ ุฌููุน endpoints ุจุนุฏ ุฃู ุชุนุฏูู

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

1. โ `server/src/routes/sales.js` - ุณุทุฑ 1606
2. โ `server/src/routes/financial.js` - ุณุทุฑ 10791
3. โ `server/src/routes/financial.js` - ุณุทุฑ 10901

---

## ๐ ุงูุญุงูุฉ ุงูููุงุฆูุฉ

### ููุญุฉ ุงููุญุงุณุจุฉ
- โ ุฌููุน ุงูุงุณุชุนูุงูุงุช ุชุณุชุฎุฏู ุฃุณูุงุก ุงูุฃุนูุฏุฉ ุงูุตุญูุญุฉ
- โ ุงูุชูุณููุงุช ูุชุณูุฉ (camelCase ููุฌุฏุงูู ุงูุฌุฏูุฏุฉุ snake_case ูููุฏููุฉ)
- โ ุฌููุน endpoints ุชุนูู ุจุดูู ุตุญูุญ

### ุงูุงุฎุชุจุงุฑุงุช
- โ ุงุณุชุนูุงูุงุช GL Journals ุชุนูู
- โ ุงุณุชุนูุงูุงุช Accounts ุชุนูู
- โ ุงุณุชุนูุงูุงุช Sales ุชุนูู
- โ ุงุณุชุนูุงูุงุช Financial ุชุนูู

---

## ๐ ุงููุชูุฌุฉ

**โจ ููุญุฉ ุงููุญุงุณุจุฉ ุชุนูู ุจุดูู ูุงูู! โจ**

ุฌููุน ุงูุงุณุชุนูุงูุงุช ุชู ุชุฏููููุง ูุฅุตูุงุญูุง. ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

---

## ๐ ูููุฑุงุฌุนุฉ ุงููุณุชูุจููุฉ

ุฅุฐุง ูุงุฌูุช ุฃุฎุทุงุก 500 ูู endpoints ุงููุญุงุณุจุฉ:

1. ุชุญูู ูู ุฃุณูุงุก ุงูุฃุนูุฏุฉ ูู ุงูุงุณุชุนูุงู
2. ุงุณุชุฎุฏู `check-gl-journals.js` ููุญุต ุจููุฉ ุงูุฌุฏุงูู
3. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุงูุชูุณูู ุงูุตุญูุญ (camelCase ุฃู snake_case)
4. ุงุณุชุฎุฏู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุงููุฒุฏูุฌุฉ ููุฃุนูุฏุฉ camelCase

---

*ุชู ุงูุงูุชูุงุก ูู ุงูุชุฏููู ูู: 2025-10-05 03:33* โ
