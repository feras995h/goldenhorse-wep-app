# Ø®Ø·Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø´Ø§Ù…Ù„Ø© Ù„ØªØ·ÙˆÙŠØ± Ù…Ù†Ø¸ÙˆÙ…Ø© Golden Horse
## Ù†Ø¸Ø§Ù… Ù…Ø§Ù„ÙŠ ÙˆÙ…Ø¨ÙŠØ¹Ø§Øª Ù…ØªÙ‚Ø¯Ù… Ù„Ø´Ø±ÙƒØ© Ø´Ø­Ù† Ø¯ÙˆÙ„ÙŠØ© (Ø§Ù„ØµÙŠÙ† - Ù„ÙŠØ¨ÙŠØ§)

**ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡**: 2025-10-01  
**Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©**: 12 Ø£Ø³Ø¨ÙˆØ¹  
**Ø§Ù„Ù‡Ø¯Ù**: Ù…Ù†Ø¸ÙˆÙ…Ø© Ù…Ø§Ù„ÙŠØ© ÙˆÙ…Ø¨ÙŠØ¹Ø§Øª Ù…ØªÙƒØ§Ù…Ù„Ø© Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰

---

## ğŸ†• ØªÙ‚ÙŠÙŠÙ… Ù…ÙØ­Ø¯Ù‘Ø« Ù„Ù„Ù†Ø¸Ø§Ù… â€” 2025-10-03

- Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 2025-10-03 18:37 UTC
- Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©: Ø§Ù„ØªÙ‚Ø¯Ù… ÙƒØ¨ÙŠØ± ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙˆØ¨Ø¯Ø§ÙŠØ© Ù‚ÙˆÙŠØ© Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©. Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø£ÙØ¶Ù„ Ø¨ÙØ¶Ù„ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ RedisØŒ Ù…Ø¹ Ø¨Ù‚Ø§Ø¡ Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª.

### Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
- Backend:
  - ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Redis Ù„Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù„Ø­Ø¸ÙŠØ© ÙÙŠ Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Ø®Ø¯Ù…Ø§Øª cacheService ÙˆrealtimeService Ùˆmiddleware Ø°Ø§Øª Ø§Ù„ØµÙ„Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©).
  - ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠÙˆØ¯ ÙŠÙˆÙ…ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø´Ø­Ù† Ø¶Ù…Ù† Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆØ§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©ØŒ Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚ (Outstanding Amount) ÙÙŠ SalesInvoice.
  - Ø¥Ø¶Ø§ÙØ© Ù†Ù…Ø§Ø°Ø¬ ÙˆÙ…Ø³Ø§Ø±Ø§Øª Ø³Ù†Ø¯Ø§Øª Ø§Ù„Ù‚Ø¨Ø¶ ÙˆØ§Ù„Ø¯ÙØ¹ (Receipt/Payment Vouchers) ÙˆØªØ­Ø¯ÙŠØ«Ø§Øª Ø¹Ù„Ù‰ PurchaseInvoice.
  - Ø¨Ø¯Ø¡ ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©: ÙŠØªÙˆÙØ± client/src/pages/AccountingPeriods.tsx Ùˆserver/src/routes/accountingPeriods.jsØŒ Ù…Ø¹ Ø­Ø§Ø¬Ø© Ù„Ø¥ÙƒÙ…Ø§Ù„ Ù…Ù†Ø·Ù‚ Ø¥Ù‚ÙØ§Ù„ Ø§Ù„ÙØªØ±Ø© ÙˆØ¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù‚ÙØ§Ù„.
  - Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø§Øª Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© ÙˆÙ…Ù„ÙØ§Øª Ù…Ø³Ø§Ø±Ø§Øª Ù…Ø§Ù„ÙŠØ© Ù…Ø­Ø³Ù‘Ù†Ø© (accountingHealthMonitor/enhancedFinancial).
- Frontend:
  - ØµÙØ­Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù€ ReceiptVouchers ÙˆPaymentVouchersØŒ ÙˆØªØ­Ø³ÙŠÙ†Ø§Øª Ø¹Ù„Ù‰ SalesDashboard ÙˆFinancialDashboard ÙˆAccountTree.
- Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
  - ØªØ±Ø­ÙŠÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù…Ø¶Ø§ÙØ© (019â€“022) ØªØ´Ù…Ù„ Ø£Ø¹Ù…Ø¯Ø© Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØ¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØºÙŠØ±Ù‡Ø§.
  - ØªØªÙˆÙØ± Ø³ÙƒØ±Ø¨ØªØ§Øª Triggers ÙˆÙ‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¹Ø¨Ø± server/src/scripts/installTriggers.js ÙˆÙ…Ù„Ù SQL Ø¶Ù…Ù† server/database/triggers.
- Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ§Ù„ØªÙˆØ«ÙŠÙ‚:
  - Ù‡ÙŠÙƒÙ„ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ server/tests Ù…Ø¹ Ø­Ø§Ø¬Ø© Ù„ØªØ«Ø¨ÙŠØª Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙƒØ§Ù…Ù„ CI.

### Ù†Ø³Ø¨Ø© Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ù…Ø±Ø§Ø­Ù„
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©): 85â€“90% Ù…Ù†Ø¬Ø²
  - Ù…ÙƒØªÙ…Ù„: AccountMapping Ù†Ø´Ø·ØŒ Ø¯Ù„ÙŠÙ„ Ø­Ø³Ø§Ø¨Ø§Øª Ø£Ø³Ø§Ø³ÙŠØŒ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡/Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†ØŒ ØªØ­Ø³ÙŠÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ØŒ Ù…Ø³Ø§Ø±Ø§Øª Ù…Ø§Ù„ÙŠØ©/Ù…Ø¨ÙŠØ¹Ø§Øª Ù…Ø³ØªÙ‚Ø±Ø©ØŒ ØªÙƒØ§Ù…Ù„ Redis.
  - Ù…ØªØ¨Ù‚Ù: ØªÙØ¹ÙŠÙ„ Triggers ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ¦Ø§ØªØŒ ØªÙˆØ­ÙŠØ¯ Ù†Ù‚Ø·Ø© ÙØ­Øµ Ø§Ù„ØµØ­Ø© /system-health ÙˆØ¥Ø¸Ù‡Ø§Ø±Ù‡Ø§ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©ØŒ ØªÙ…Ø±ÙŠØ± Ø¬ÙˆÙ„Ø© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ Ø£Ø³Ø§Ø³ÙŠØ©.
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ): Ø¨Ø¯Ø£Øª
  - ØªÙ‚Ø¯Ù…: Ù…Ù„ÙØ§Øª Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ù…ÙˆØ¬ÙˆØ¯Ø© (ÙˆØ§Ø¬Ù‡Ø© ÙˆØ®Ù„ÙÙŠØ©). ÙŠÙ„Ø²Ù… Ø¥ÙƒÙ…Ø§Ù„ Ù…Ù†Ø·Ù‚ Ø¥Ù‚ÙØ§Ù„ Ø§Ù„ÙØªØ±Ø© ÙˆÙ‚ÙŠØ¯ Ø§Ù„Ø¥Ù‚ÙØ§Ù„ ÙˆØªØ¯ÙÙ‚Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯Ø§Øª.
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© (Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø´Ø­Ù†): Ø£Ø³Ø§Ø³ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª/Ø§Ù„Ø´Ø­Ù† Ù‚ÙˆÙŠØŒ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø´Ø­Ù†Ø© Ø§Ù„Ø¯ÙˆÙ„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù…Ø®Ø·Ø· ÙˆÙ„Ù… ÙŠÙÙ†ÙØ° Ø¨Ø¹Ø¯.
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©/Ø§Ù„Ø®Ø§Ù…Ø³Ø©: Ù„Ù… ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ (ØªÙØ±Ø§Ø¬Ø¹ Ø¨Ø¹Ø¯ ØªØ«Ø¨ÙŠØª Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2).

### Ø£Ù‡Ù… Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ù†Ø° 2025-10-01
- ØªÙƒØ§Ù…Ù„ Redis Ù„Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„ÙÙˆØ±ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª.
- ØªÙØ¹ÙŠÙ„ Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠÙˆØ¯ ÙŠÙˆÙ…ÙŠØ© Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø´Ø­Ù† ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ù„Ø®ØµØ§Øª.
- Ø¥Ø¶Ø§ÙØ© Receipt/Payment Vouchers ÙˆØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©.
- Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØªØ±Ø­ÙŠÙ„Ø§Øª Ø¨Ù†ÙŠÙˆÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©.
- Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© (ÙˆØ§Ø¬Ù‡Ø© ÙˆÙ…Ø³Ø§Ø±Ø§Øª Ø®Ù„ÙÙŠØ©) ÙˆØµÙØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ù„Ù‡Ø§.

### Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© (3â€“5 Ø£ÙŠØ§Ù…)
1) ØªØ«Ø¨ÙŠØª ÙˆØªØ´ØºÙŠÙ„ Triggers Ø¹Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¨Ø±: node server/src/scripts/installTriggers.js (Ø«Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø±ØµØ¯Ø©).
2) ØªÙ†ÙÙŠØ°/ØªÙˆØ­ÙŠØ¯ GET /api/financial/system-health ÙˆPOST /api/financial/recalculate-balances (Ø¥Ù† Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©) ÙˆØ±Ø¨Ø·Ù‡Ø§ Ø¨Ù„ÙˆØ­Ø© Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¨Ø³ÙŠØ·Ø© ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©.
3) Ø¥ÙƒÙ…Ø§Ù„ Ù…Ù†Ø·Ù‚ Ø¥Ù‚ÙØ§Ù„ Ø§Ù„ÙØªØ±Ø§Øª ÙÙŠ AccountingPeriod ÙˆØ¥Ø¶Ø§ÙØ© Ø´Ø§Ø´Ø© Ø¥Ø¯Ø§Ø±Ø© Ù„Ù„ÙØªØ±Ø§Øª (Ø¥Ù†Ø´Ø§Ø¡/ÙØªØ­/Ø¥Ù‚ÙØ§Ù„) Ù…Ø¹ Ø³Ø¬Ù„ ØªØ¯Ù‚ÙŠÙ‚.
4) ØªÙˆØ­ÙŠØ¯ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: Ù…Ù†Ø¹ ØªØ¬Ø§Ù‡Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠÙˆØ¯ ÙÙŠ sales.js/financial.js ÙˆØ¶Ù…Ø§Ù† ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù‚ÙŠØ¯ Ù…Ø¹ Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ø¶Ø­Ø©.
5) Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØªØ´ØºÙŠÙ„Ù‡Ø§ Ù…Ø­Ù„ÙŠÙ‹Ø§ØŒ Ø«Ù… ØªÙ…ÙƒÙŠÙ†Ù‡Ø§ ÙÙŠ CI.

### Ø£Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ØªØ®ØªØªÙ… Ù…Ø¨ÙƒØ±Ù‹Ø§ Ù†Ø³Ø¨ÙŠÙ‹Ø§ØŒ ÙˆØªÙ†ØªÙ‚Ù„ Ø§Ù„Ø¬Ù‡ÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ù…Ø¹ Ø¥Ø¨Ù‚Ø§Ø¡ Ù†Ø§ÙØ°Ø© ØµÙŠØ§Ù†Ø© Ù‚ØµÙŠØ±Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø§ ØªØ¨Ù‚Ù‰ Ù…Ù† Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©.

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
1. [Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø© (Ø£Ø³Ø¨ÙˆØ¹ 1-2)](#Ø§Ù„Ù…Ø±Ø­Ù„Ø©-Ø§Ù„Ø£ÙˆÙ„Ù‰)
2. [Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ (Ø£Ø³Ø¨ÙˆØ¹ 3-5)](#Ø§Ù„Ù…Ø±Ø­Ù„Ø©-Ø§Ù„Ø«Ø§Ù†ÙŠØ©)
3. [Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø´Ø­Ù† (Ø£Ø³Ø¨ÙˆØ¹ 6-8)](#Ø§Ù„Ù…Ø±Ø­Ù„Ø©-Ø§Ù„Ø«Ø§Ù„Ø«Ø©)
4. [Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©: Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© (Ø£Ø³Ø¨ÙˆØ¹ 9-10)](#Ø§Ù„Ù…Ø±Ø­Ù„Ø©-Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©)
5. [Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©: Ø§Ù„ØªÙƒØ§Ù…Ù„ ÙˆØ§Ù„Ø£ØªÙ…ØªØ© (Ø£Ø³Ø¨ÙˆØ¹ 11-12)](#Ø§Ù„Ù…Ø±Ø­Ù„Ø©-Ø§Ù„Ø®Ø§Ù…Ø³Ø©)

---

## ğŸš¨ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©
**Ø§Ù„Ù…Ø¯Ø©**: Ø£Ø³Ø¨ÙˆØ¹Ø§Ù†  
**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: Ø­Ø±Ø¬Ø© ğŸ”´

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„: Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ

#### Ø§Ù„ÙŠÙˆÙ… 1-2: Ø¥ØµÙ„Ø§Ø­ AccountMapping ÙˆÙ‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

**Ø§Ù„Ù…Ù‡Ø§Ù…**:

1. **Ø¥Ù†Ø´Ø§Ø¡ AccountMapping Ø¹Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©**
```sql
-- Script 1: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
SELECT 
  id, code, name, type, "rootType", "isGroup", balance
FROM accounts 
WHERE type IN ('revenue', 'asset', 'liability')
ORDER BY code;

-- Script 2: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
-- Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
INSERT INTO accounts (id, code, name, "nameEn", type, "rootType", "reportType", level, "isGroup", "isActive", balance, currency, nature, "createdAt", "updatedAt")
SELECT 
  gen_random_uuid(),
  '4101',
  'Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø´Ø­Ù†',
  'Shipping Services Revenue',
  'revenue',
  'revenue',
  'income_statement',
  2,
  false,
  true,
  0,
  'LYD',
  'credit',
  NOW(),
  NOW()
WHERE NOT EXISTS (SELECT 1 FROM accounts WHERE code = '4101');

-- Ø­Ø³Ø§Ø¨ Ø°Ù…Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
INSERT INTO accounts (id, code, name, "nameEn", type, "rootType", "reportType", level, "isGroup", "isActive", balance, currency, nature, "createdAt", "updatedAt")
SELECT 
  gen_random_uuid(),
  '1201',
  'Ø°Ù…Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
  'Accounts Receivable',
  'asset',
  'current_assets',
  'balance_sheet',
  2,
  true,
  true,
  0,
  'LYD',
  'debit',
  NOW(),
  NOW()
WHERE NOT EXISTS (SELECT 1 FROM accounts WHERE code = '1201');

-- Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨
INSERT INTO accounts (id, code, name, "nameEn", type, "rootType", "reportType", level, "isGroup", "isActive", balance, currency, nature, "createdAt", "updatedAt")
SELECT 
  gen_random_uuid(),
  '2301',
  'Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©',
  'VAT Payable',
  'liability',
  'current_liabilities',
  'balance_sheet',
  2,
  false,
  true,
  0,
  'LYD',
  'credit',
  NOW(),
  NOW()
WHERE NOT EXISTS (SELECT 1 FROM accounts WHERE code = '2301');

-- Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
INSERT INTO accounts (id, code, name, "nameEn", type, "rootType", "reportType", level, "isGroup", "isActive", balance, currency, nature, "createdAt", "updatedAt")
SELECT 
  gen_random_uuid(),
  '4102',
  'Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
  'Sales Discounts',
  'revenue',
  'revenue',
  'income_statement',
  2,
  false,
  true,
  0,
  'LYD',
  'debit',
  NOW(),
  NOW()
WHERE NOT EXISTS (SELECT 1 FROM accounts WHERE code = '4102');

-- Script 3: Ø¥Ù†Ø´Ø§Ø¡ AccountMapping
INSERT INTO account_mappings (
  id,
  "salesRevenueAccount",
  "accountsReceivableAccount",
  "salesTaxAccount",
  "discountAccount",
  "shippingRevenueAccount",
  "isActive",
  description,
  "createdAt",
  "updatedAt"
) VALUES (
  gen_random_uuid(),
  (SELECT id FROM accounts WHERE code = '4101'),
  (SELECT id FROM accounts WHERE code = '1201'),
  (SELECT id FROM accounts WHERE code = '2301'),
  (SELECT id FROM accounts WHERE code = '4102'),
  (SELECT id FROM accounts WHERE code = '4101'),
  true,
  'Account Mapping Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¯ÙˆÙ„ÙŠ',
  NOW(),
  NOW()
) ON CONFLICT DO NOTHING;

-- Script 4: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†ØªÙŠØ¬Ø©
SELECT 
  am.id,
  am.description,
  am."isActive",
  sr.code as sales_code,
  sr.name as sales_name,
  ar.code as ar_code,
  ar.name as ar_name,
  tax.code as tax_code,
  tax.name as tax_name
FROM account_mappings am
LEFT JOIN accounts sr ON am."salesRevenueAccount" = sr.id
LEFT JOIN accounts ar ON am."accountsReceivableAccount" = ar.id
LEFT JOIN accounts tax ON am."salesTaxAccount" = tax.id
WHERE am."isActive" = true;
```

2. **Ø¥ØµÙ„Ø§Ø­ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ sales.js**

```javascript
// Ù…Ù„Ù: server/src/routes/sales.js
// Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ø§Ù„Ø³Ø·Ø± 3333-3340 (ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª)
// Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ø§Ù„Ø³Ø·Ø± 667-674 (Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©)
// Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ø§Ù„Ø³Ø·Ø± 2918-2925 (ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø­Ù†)

// Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø­Ø§Ù„Ø§Øª try-catch Ù„Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø¨Ù‡Ø°Ø§:

// âŒ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯
/*
try {
  await newInvoice.createJournalEntryAndAffectBalance(validUserId, { transaction });
  console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„ÙØ§ØªÙˆØ±Ø©');
} catch (journalError) {
  console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ:', journalError.message);
  // Don't fail the invoice creation if journal entry fails
}
*/

// âœ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ù‡Ø°Ø§
await newInvoice.createJournalEntryAndAffectBalance(validUserId, { transaction });
console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„ÙØ§ØªÙˆØ±Ø©');
```

**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§**:
- `server/src/routes/sales.js` (3 Ù…ÙˆØ§Ù‚Ø¹)
- `server/src/routes/financial.js` (Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª Ø­Ø§Ù„Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø©)

---

#### Ø§Ù„ÙŠÙˆÙ… 3-4: Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… ØªÙ‡ÙŠØ¦Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠ

**Ø§Ù„Ù…Ù‡Ù…Ø©**: Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… ØªÙ‡ÙŠØ¦Ø© ÙŠØ¹Ù…Ù„ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„

1. **Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ**

```javascript
// Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯: server/src/utils/accountingInitializer.js

import { Account, AccountMapping } from '../models/index.js';
import { Op } from 'sequelize';

class AccountingInitializer {
  /**
   * ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
   */
  static async initialize() {
    try {
      console.log('ğŸ”§ Ø¨Ø¯Ø¡ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ...');
      
      // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
      await this.ensureChartOfAccounts();
      
      // 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ AccountMapping
      await this.ensureAccountMapping();
      
      // 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
      const healthCheck = await this.performHealthCheck();
      
      if (healthCheck.healthy) {
        console.log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„');
      } else {
        console.warn('âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø©:', healthCheck.issues);
      }
      
      return healthCheck;
    } catch (error) {
      console.error('âŒ ÙØ´Ù„ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ:', error);
      throw error;
    }
  }

  /**
   * Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
   */
  static async ensureChartOfAccounts() {
    const requiredAccounts = [
      // Ø§Ù„Ø£ØµÙˆÙ„
      { code: '1000', name: 'Ø§Ù„Ø£ØµÙˆÙ„', nameEn: 'Assets', type: 'asset', rootType: 'assets', isGroup: true, level: 1 },
      { code: '1100', name: 'Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø©', nameEn: 'Current Assets', type: 'asset', rootType: 'current_assets', isGroup: true, level: 2, parentCode: '1000' },
      { code: '1101', name: 'Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©', nameEn: 'Cash', type: 'asset', rootType: 'current_assets', isGroup: false, level: 3, parentCode: '1100' },
      { code: '1102', name: 'Ø§Ù„Ø¨Ù†Ùƒ', nameEn: 'Bank', type: 'asset', rootType: 'current_assets', isGroup: false, level: 3, parentCode: '1100' },
      { code: '1201', name: 'Ø°Ù…Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡', nameEn: 'Accounts Receivable', type: 'asset', rootType: 'current_assets', isGroup: true, level: 2, parentCode: '1000' },
      
      // Ø§Ù„Ø®ØµÙˆÙ…
      { code: '2000', name: 'Ø§Ù„Ø®ØµÙˆÙ…', nameEn: 'Liabilities', type: 'liability', rootType: 'liabilities', isGroup: true, level: 1 },
      { code: '2100', name: 'Ø§Ù„Ø®ØµÙˆÙ… Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø©', nameEn: 'Current Liabilities', type: 'liability', rootType: 'current_liabilities', isGroup: true, level: 2, parentCode: '2000' },
      { code: '2201', name: 'Ø°Ù…Ù… Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†', nameEn: 'Accounts Payable', type: 'liability', rootType: 'current_liabilities', isGroup: true, level: 2, parentCode: '2000' },
      { code: '2301', name: 'Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©', nameEn: 'VAT Payable', type: 'liability', rootType: 'current_liabilities', isGroup: false, level: 2, parentCode: '2000' },
      
      // Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©
      { code: '3000', name: 'Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©', nameEn: 'Equity', type: 'equity', rootType: 'equity', isGroup: true, level: 1 },
      { code: '3101', name: 'Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„', nameEn: 'Capital', type: 'equity', rootType: 'equity', isGroup: false, level: 2, parentCode: '3000' },
      { code: '3201', name: 'Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø­ØªØ¬Ø²Ø©', nameEn: 'Retained Earnings', type: 'equity', rootType: 'equity', isGroup: false, level: 2, parentCode: '3000' },
      
      // Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
      { code: '4000', name: 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª', nameEn: 'Revenue', type: 'revenue', rootType: 'revenue', isGroup: true, level: 1 },
      { code: '4101', name: 'Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¨Ø­Ø±ÙŠ', nameEn: 'Sea Freight Revenue', type: 'revenue', rootType: 'revenue', isGroup: false, level: 2, parentCode: '4000' },
      { code: '4102', name: 'Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', nameEn: 'Sales Discounts', type: 'revenue', rootType: 'revenue', isGroup: false, level: 2, parentCode: '4000', nature: 'debit' },
      { code: '4103', name: 'Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªØ®Ù„ÙŠØµ Ø§Ù„Ø¬Ù…Ø±ÙƒÙŠ', nameEn: 'Customs Clearance Revenue', type: 'revenue', rootType: 'revenue', isGroup: false, level: 2, parentCode: '4000' },
      { code: '4104', name: 'Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ†', nameEn: 'Storage Services Revenue', type: 'revenue', rootType: 'revenue', isGroup: false, level: 2, parentCode: '4000' },
      
      // Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
      { code: '5000', name: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª', nameEn: 'Expenses', type: 'expense', rootType: 'expenses', isGroup: true, level: 1 },
      { code: '5101', name: 'ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù†', nameEn: 'Shipping Costs', type: 'expense', rootType: 'expenses', isGroup: false, level: 2, parentCode: '5000' },
      { code: '5102', name: 'Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†', nameEn: 'Salaries', type: 'expense', rootType: 'expenses', isGroup: false, level: 2, parentCode: '5000' },
      { code: '5103', name: 'Ø¥ÙŠØ¬Ø§Ø±Ø§Øª', nameEn: 'Rent', type: 'expense', rootType: 'expenses', isGroup: false, level: 2, parentCode: '5000' },
      { code: '5104', name: 'Ù…ØµØ§Ø±ÙŠÙ Ø¥Ø¯Ø§Ø±ÙŠØ©', nameEn: 'Administrative Expenses', type: 'expense', rootType: 'expenses', isGroup: false, level: 2, parentCode: '5000' }
    ];

    for (const accountData of requiredAccounts) {
      const exists = await Account.findOne({ where: { code: accountData.code } });
      
      if (!exists) {
        // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø¨
        let parentId = null;
        if (accountData.parentCode) {
          const parent = await Account.findOne({ where: { code: accountData.parentCode } });
          parentId = parent?.id;
        }
        
        await Account.create({
          code: accountData.code,
          name: accountData.name,
          nameEn: accountData.nameEn,
          type: accountData.type,
          rootType: accountData.rootType,
          reportType: accountData.type === 'revenue' || accountData.type === 'expense' ? 'income_statement' : 'balance_sheet',
          parentId: parentId,
          level: accountData.level,
          isGroup: accountData.isGroup,
          isActive: true,
          balance: 0,
          currency: 'LYD',
          nature: accountData.nature || (accountData.type === 'asset' || accountData.type === 'expense' ? 'debit' : 'credit')
        });
        
        console.log(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨: ${accountData.code} - ${accountData.name}`);
      }
    }
  }

  /**
   * Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ AccountMapping Ù†Ø´Ø·
   */
  static async ensureAccountMapping() {
    const mapping = await AccountMapping.findOne({ where: { isActive: true } });
    
    if (!mapping) {
      console.log('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Account Mapping Ù†Ø´Ø·ØŒ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...');
      
      // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      const salesAccount = await Account.findOne({ where: { code: '4101' } });
      const arAccount = await Account.findOne({ where: { code: '1201' } });
      const taxAccount = await Account.findOne({ where: { code: '2301' } });
      const discountAccount = await Account.findOne({ where: { code: '4102' } });
      const customsAccount = await Account.findOne({ where: { code: '4103' } });
      const storageAccount = await Account.findOne({ where: { code: '4104' } });
      
      if (salesAccount && arAccount && taxAccount) {
        await AccountMapping.create({
          salesRevenueAccount: salesAccount.id,
          accountsReceivableAccount: arAccount.id,
          salesTaxAccount: taxAccount.id,
          discountAccount: discountAccount?.id,
          shippingRevenueAccount: salesAccount.id,
          customsClearanceAccount: customsAccount?.id,
          storageAccount: storageAccount?.id,
          isActive: true,
          description: 'ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ - Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¯ÙˆÙ„ÙŠ'
        });
        
        console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Account Mapping ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹');
      } else {
        console.error('âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ù†Ø´Ø§Ø¡ Account Mapping - Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
        throw new Error('Missing required accounts for AccountMapping');
      }
    } else {
      console.log('âœ… Account Mapping Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ†Ø´Ø·');
    }
  }

  /**
   * ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
   */
  static async performHealthCheck() {
    const issues = [];
    
    // 1. ÙØ­Øµ AccountMapping
    const mapping = await AccountMapping.findOne({ where: { isActive: true } });
    if (!mapping) {
      issues.push('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Account Mapping Ù†Ø´Ø·');
    } else {
      // ÙØ­Øµ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      const requiredAccounts = [
        mapping.salesRevenueAccount,
        mapping.accountsReceivableAccount,
        mapping.salesTaxAccount
      ].filter(Boolean);
      
      const accountsCount = await Account.count({
        where: { id: { [Op.in]: requiredAccounts } }
      });
      
      if (accountsCount < 3) {
        issues.push('Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙŠ AccountMapping ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
      }
    }
    
    // 2. ÙØ­Øµ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
    const accountsCount = await Account.count();
    if (accountsCount < 10) {
      issues.push('Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ù‚Ù„ÙŠÙ„ Ø¬Ø¯Ø§Ù‹ - Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø²ÙŠØ¯');
    }
    
    return {
      healthy: issues.length === 0,
      issues: issues,
      accountsCount: accountsCount,
      hasActiveMapping: !!mapping
    };
  }
}

export default AccountingInitializer;
```

2. **ØªØ¹Ø¯ÙŠÙ„ server.js Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„ØªÙ‡ÙŠØ¦Ø©**

```javascript
// Ù…Ù„Ù: server/src/server.js
// Ø¥Ø¶Ø§ÙØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø·Ø± 683 (Ø¨Ø¹Ø¯ ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)

import AccountingInitializer from './utils/accountingInitializer.js';

// ÙÙŠ Ø¯Ø§Ù„Ø© startServer() Ø¨Ø¹Ø¯ ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
async function startServer() {
  try {
    console.log('ğŸš€ Starting Golden Horse Shipping Server...');

    // Initialize database
    const dbInit = await DatabaseInitializer.initializeDatabase();
    if (!dbInit.success) {
      console.error('âŒ Failed to initialize database:', dbInit.error);
      console.warn('âš ï¸  Continuing without database - some features may be limited');
    }

    // âœ… Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯
    // Initialize accounting system
    try {
      await AccountingInitializer.initialize();
    } catch (error) {
      console.error('âŒ Failed to initialize accounting system:', error);
      // Ù„Ø§ Ù†ÙˆÙ‚Ù Ø§Ù„Ø³ÙŠØ±ÙØ±ØŒ Ù„ÙƒÙ† Ù†Ø­Ø°Ø±
      console.warn('âš ï¸  Accounting system may not function correctly');
    }

    // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯
  }
}
```

---

#### Ø§Ù„ÙŠÙˆÙ… 5-7: Ø¥Ø¶Ø§ÙØ© Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†

**Ø§Ù„Ù…Ù‡Ù…Ø©**: Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª ÙØ±Ø¹ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø£Ùˆ Ù…ÙˆØ±Ø¯

1. **ØªØ¹Ø¯ÙŠÙ„ Ù†Ù…ÙˆØ°Ø¬ Customer**

```javascript
// Ù…Ù„Ù: server/src/models/Customer.js
// Ø¥Ø¶Ø§ÙØ© ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ù„Ù Ù‚Ø¨Ù„ return Customer

/**
 * Ø¥Ù†Ø´Ø§Ø¡ Ø£Ùˆ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙÙŠ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
 */
Customer.prototype.ensureAccount = async function(transaction) {
  const { Account } = sequelize.models;
  const t = transaction || await sequelize.transaction();
  const shouldCommit = !transaction;

  try {
    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯
    let account = await Account.findOne({
      where: { 
        code: `1201-${this.code}`,
        type: 'asset'
      },
      transaction: t
    });

    if (!account) {
      // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø¨ (Ø°Ù…Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)
      const parentAccount = await Account.findOne({
        where: { 
          code: '1201',
          isGroup: true
        },
        transaction: t
      });

      if (!parentAccount) {
        throw new Error('Ø­Ø³Ø§Ø¨ Ø°Ù…Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
      }

      // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
      account = await Account.create({
        code: `1201-${this.code}`,
        name: `Ø°Ù…Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ - ${this.name}`,
        nameEn: `Customer AR - ${this.name}`,
        type: 'asset',
        rootType: 'current_assets',
        reportType: 'balance_sheet',
        parentId: parentAccount.id,
        level: parentAccount.level + 1,
        isGroup: false,
        isActive: true,
        balance: 0,
        currency: this.currency || 'LYD',
        nature: 'debit',
        description: `Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„: ${this.name} (${this.code})`
      }, { transaction: t });

      console.log(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù„Ù„Ø¹Ù…ÙŠÙ„: ${this.name} (${account.code})`);
    }

    if (shouldCommit) await t.commit();
    return account;
  } catch (error) {
    if (shouldCommit) await t.rollback();
    throw error;
  }
};

/**
 * Hook: Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
 */
Customer.addHook('afterCreate', async (customer, options) => {
  try {
    await customer.ensureAccount(options.transaction);
  } catch (error) {
    console.error(`âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù„Ù„Ø¹Ù…ÙŠÙ„ ${customer.name}:`, error.message);
    // Ù„Ø§ Ù†ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©ØŒ ÙÙ‚Ø· Ù†Ø³Ø¬Ù„ Ø§Ù„Ø®Ø·Ø£
  }
});
```

2. **ØªØ¹Ø¯ÙŠÙ„ Ù†Ù…ÙˆØ°Ø¬ Supplier**

```javascript
// Ù…Ù„Ù: server/src/models/Supplier.js
// Ù†ÙØ³ Ø§Ù„ÙƒÙˆØ¯ Ø£Ø¹Ù„Ø§Ù‡ Ù…Ø¹ ØªØºÙŠÙŠØ±:
// - code: `2201-${this.code}` (Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†)
// - parentCode: '2201'
// - type: 'liability'
// - nature: 'credit'

Supplier.prototype.ensureAccount = async function(transaction) {
  const { Account } = sequelize.models;
  const t = transaction || await sequelize.transaction();
  const shouldCommit = !transaction;

  try {
    let account = await Account.findOne({
      where: { 
        code: `2201-${this.code}`,
        type: 'liability'
      },
      transaction: t
    });

    if (!account) {
      const parentAccount = await Account.findOne({
        where: { 
          code: '2201',
          isGroup: true
        },
        transaction: t
      });

      if (!parentAccount) {
        throw new Error('Ø­Ø³Ø§Ø¨ Ø°Ù…Ù… Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
      }

      account = await Account.create({
        code: `2201-${this.code}`,
        name: `Ø°Ù…Ù… Ø§Ù„Ù…ÙˆØ±Ø¯ - ${this.name}`,
        nameEn: `Supplier AP - ${this.name}`,
        type: 'liability',
        rootType: 'current_liabilities',
        reportType: 'balance_sheet',
        parentId: parentAccount.id,
        level: parentAccount.level + 1,
        isGroup: false,
        isActive: true,
        balance: 0,
        currency: this.currency || 'LYD',
        nature: 'credit',
        description: `Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆØ±Ø¯: ${this.name} (${this.code})`
      }, { transaction: t });

      console.log(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù„Ù„Ù…ÙˆØ±Ø¯: ${this.name} (${account.code})`);
    }

    if (shouldCommit) await t.commit();
    return account;
  } catch (error) {
    if (shouldCommit) await t.rollback();
    throw error;
  }
};

Supplier.addHook('afterCreate', async (supplier, options) => {
  try {
    await supplier.ensureAccount(options.transaction);
  } catch (error) {
    console.error(`âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù„Ù„Ù…ÙˆØ±Ø¯ ${supplier.name}:`, error.message);
  }
});
```

---

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø¥Ø¶Ø§ÙØ© Database Triggers ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª

#### Ø§Ù„ÙŠÙˆÙ… 8-10: Ø¥Ø¶Ø§ÙØ© Database Triggers

**Ø§Ù„Ù…Ù‡Ù…Ø©**: Ø¥Ù†Ø´Ø§Ø¡ Triggers Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

```sql
-- Ù…Ù„Ù: server/database/triggers/account_balance_triggers.sql

-- 1. Trigger Ù„ØªØ­Ø¯ÙŠØ« Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© GL Entry
CREATE OR REPLACE FUNCTION update_account_balance_on_gl_insert()
RETURNS TRIGGER AS $$
BEGIN
  -- ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨
  UPDATE accounts 
  SET 
    balance = balance + NEW.debit - NEW.credit,
    "updatedAt" = NOW()
  WHERE id = NEW."accountId";
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS gl_entry_balance_update ON gl_entries;
CREATE TRIGGER gl_entry_balance_update
AFTER INSERT ON gl_entries
FOR EACH ROW EXECUTE FUNCTION update_account_balance_on_gl_insert();

-- 2. Trigger Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¹Ù†Ø¯ ØªØ¹Ø¯ÙŠÙ„ GL Entry
CREATE OR REPLACE FUNCTION update_account_balance_on_gl_update()
RETURNS TRIGGER AS $$
BEGIN
  -- Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
  UPDATE accounts 
  SET 
    balance = balance - (OLD.debit - OLD.credit),
    "updatedAt" = NOW()
  WHERE id = OLD."accountId";
  
  -- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
  UPDATE accounts 
  SET 
    balance = balance + (NEW.debit - NEW.credit),
    "updatedAt" = NOW()
  WHERE id = NEW."accountId";
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS gl_entry_balance_update_trigger ON gl_entries;
CREATE TRIGGER gl_entry_balance_update_trigger
AFTER UPDATE ON gl_entries
FOR EACH ROW EXECUTE FUNCTION update_account_balance_on_gl_update();

-- 3. Trigger Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¹Ù†Ø¯ Ø­Ø°Ù GL Entry
CREATE OR REPLACE FUNCTION update_account_balance_on_gl_delete()
RETURNS TRIGGER AS $$
BEGIN
  -- Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‚ÙŠÙ…Ø©
  UPDATE accounts 
  SET 
    balance = balance - (OLD.debit - OLD.credit),
    "updatedAt" = NOW()
  WHERE id = OLD."accountId";
  
  RETURN OLD;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS gl_entry_balance_delete_trigger ON gl_entries;
CREATE TRIGGER gl_entry_balance_delete_trigger
AFTER DELETE ON gl_entries
FOR EACH ROW EXECUTE FUNCTION update_account_balance_on_gl_delete();

-- 4. Trigger Ù„ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©
CREATE OR REPLACE FUNCTION update_customer_balance_on_invoice()
RETURNS TRIGGER AS $$
BEGIN
  IF TG_OP = 'INSERT' THEN
    UPDATE customers 
    SET 
      balance = balance + NEW.total,
      "updatedAt" = NOW()
    WHERE id = NEW."customerId";
  ELSIF TG_OP = 'UPDATE' THEN
    UPDATE customers 
    SET 
      balance = balance - OLD.total + NEW.total,
      "updatedAt" = NOW()
    WHERE id = NEW."customerId";
  ELSIF TG_OP = 'DELETE' THEN
    UPDATE customers 
    SET 
      balance = balance - OLD.total,
      "updatedAt" = NOW()
    WHERE id = OLD."customerId";
  END IF;
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS sales_invoice_customer_balance ON sales_invoices;
CREATE TRIGGER sales_invoice_customer_balance
AFTER INSERT OR UPDATE OR DELETE ON sales_invoices
FOR EACH ROW EXECUTE FUNCTION update_customer_balance_on_invoice();

-- 5. Trigger Ù„ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ù„Ù„ÙØ§ØªÙˆØ±Ø©
CREATE OR REPLACE FUNCTION update_invoice_payment_status()
RETURNS TRIGGER AS $$
DECLARE
  invoice_total DECIMAL(15,2);
  paid_amount DECIMAL(15,2);
BEGIN
  -- Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹
  SELECT total, "paidAmount" INTO invoice_total, paid_amount
  FROM sales_invoices
  WHERE id = NEW."invoiceId";
  
  -- ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹
  IF paid_amount >= invoice_total THEN
    UPDATE sales_invoices 
    SET "paymentStatus" = 'paid'
    WHERE id = NEW."invoiceId";
  ELSIF paid_amount > 0 THEN
    UPDATE sales_invoices 
    SET "paymentStatus" = 'partial'
    WHERE id = NEW."invoiceId";
  ELSE
    UPDATE sales_invoices 
    SET "paymentStatus" = 'unpaid'
    WHERE id = NEW."invoiceId";
  END IF;
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS payment_status_update ON sales_invoice_payments;
CREATE TRIGGER payment_status_update
AFTER INSERT OR UPDATE ON sales_invoice_payments
FOR EACH ROW EXECUTE FUNCTION update_invoice_payment_status();
```

**ØªØ´ØºÙŠÙ„ Ø§Ù„Ù€ Triggers**:
```javascript
// Ù…Ù„Ù: server/src/scripts/installTriggers.js

import { sequelize } from '../models/index.js';
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

async function installTriggers() {
  try {
    console.log('ğŸ“¦ Ø¬Ø§Ø±ÙŠ ØªØ«Ø¨ÙŠØª Database Triggers...');
    
    const sqlFile = path.join(__dirname, '../../database/triggers/account_balance_triggers.sql');
    const sql = fs.readFileSync(sqlFile, 'utf8');
    
    // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ statements Ù…Ù†ÙØµÙ„Ø©
    const statements = sql.split(';').filter(s => s.trim().length > 0);
    
    for (const statement of statements) {
      await sequelize.query(statement);
    }
    
    console.log('âœ… ØªÙ… ØªØ«Ø¨ÙŠØª Ø¬Ù…ÙŠØ¹ Triggers Ø¨Ù†Ø¬Ø§Ø­');
  } catch (error) {
    console.error('âŒ ÙØ´Ù„ ØªØ«Ø¨ÙŠØª Triggers:', error);
    throw error;
  }
}

installTriggers()
  .then(() => process.exit(0))
  .catch(() => process.exit(1));
```

---

#### Ø§Ù„ÙŠÙˆÙ… 11-14: Ø¥Ø¶Ø§ÙØ© endpoint Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…

```javascript
// Ù…Ù„Ù: server/src/routes/financial.js
// Ø¥Ø¶Ø§ÙØ© ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ù„Ù

/**
 * GET /api/financial/system-health
 * ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
 */
router.get('/system-health', authenticateToken, async (req, res) => {
  try {
    const health = {
      timestamp: new Date().toISOString(),
      checks: {},
      issues: [],
      recommendations: []
    };

    // 1. ÙØ­Øµ AccountMapping
    const mapping = await AccountMapping.findOne({ where: { isActive: true } });
    health.checks.accountMapping = {
      exists: !!mapping,
      isActive: mapping?.isActive || false
    };

    if (!mapping) {
      health.issues.push('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Account Mapping Ù†Ø´Ø·');
      health.recommendations.push('Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Account Mapping Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
    } else {
      // ÙØ­Øµ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      const requiredAccounts = [
        { id: mapping.salesRevenueAccount, name: 'Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª' },
        { id: mapping.accountsReceivableAccount, name: 'Ø­Ø³Ø§Ø¨ Ø°Ù…Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡' },
        { id: mapping.salesTaxAccount, name: 'Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨' }
      ];

      for (const req of requiredAccounts) {
        if (req.id) {
          const account = await Account.findByPk(req.id);
          if (!account) {
            health.issues.push(`${req.name} ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª`);
          }
        } else {
          health.issues.push(`${req.name} ØºÙŠØ± Ù…Ø­Ø¯Ø¯ ÙÙŠ AccountMapping`);
        }
      }
    }

    // 2. ÙØ­Øµ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
    const accountsCount = await Account.count();
    const activeAccountsCount = await Account.count({ where: { isActive: true } });
    
    health.checks.chartOfAccounts = {
      totalAccounts: accountsCount,
      activeAccounts: activeAccountsCount
    };

    if (accountsCount < 10) {
      health.issues.push('Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ù‚Ù„ÙŠÙ„ Ø¬Ø¯Ø§Ù‹');
      health.recommendations.push('Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø¯Ù„ÙŠÙ„ Ø­Ø³Ø§Ø¨Ø§Øª ÙƒØ§Ù…Ù„');
    }

    // 3. ÙØ­Øµ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©
    const glEntriesCount = await GLEntry.count();
    const journalEntriesCount = await JournalEntry.count();
    
    health.checks.accountingEntries = {
      glEntries: glEntriesCount,
      journalEntries: journalEntriesCount
    };

    // 4. ÙØ­Øµ ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±ØµØ¯Ø©
    const balanceMismatch = await sequelize.query(`
      SELECT COUNT(*) as count
      FROM accounts a
      LEFT JOIN (
        SELECT "accountId", SUM(debit - credit) as gl_balance
        FROM gl_entries
        GROUP BY "accountId"
      ) ge ON a.id = ge."accountId"
      WHERE ABS(a.balance - COALESCE(ge.gl_balance, 0)) > 0.01
    `, { type: sequelize.QueryTypes.SELECT });

    health.checks.balanceIntegrity = {
      accountsWithMismatch: parseInt(balanceMismatch[0].count)
    };

    if (balanceMismatch[0].count > 0) {
      health.issues.push(`${balanceMismatch[0].count} Ø­Ø³Ø§Ø¨ Ù„Ø¯ÙŠÙ‡ Ø¹Ø¯Ù… ØªØ·Ø§Ø¨Ù‚ ÙÙŠ Ø§Ù„Ø±ØµÙŠØ¯`);
      health.recommendations.push('Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø£Ø¯Ø§Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø©');
    }

    // 5. ÙØ­Øµ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø¨Ø¯ÙˆÙ† Ù‚ÙŠÙˆØ¯
    const invoicesWithoutJE = await sequelize.query(`
      SELECT COUNT(*) as count
      FROM sales_invoices si
      LEFT JOIN journal_entries je ON je.description LIKE '%' || si."invoiceNumber" || '%'
      WHERE je.id IS NULL
    `, { type: sequelize.QueryTypes.SELECT });

    health.checks.invoiceIntegrity = {
      invoicesWithoutJournalEntry: parseInt(invoicesWithoutJE[0].count)
    };

    if (invoicesWithoutJE[0].count > 0) {
      health.issues.push(`${invoicesWithoutJE[0].count} ÙØ§ØªÙˆØ±Ø© Ø¨Ø¯ÙˆÙ† Ù‚ÙŠØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ`);
      health.recommendations.push('Ù‚Ù… Ø¨Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©');
    }

    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©
    health.status = health.issues.length === 0 ? 'healthy' : 'needs_attention';
    health.healthy = health.issues.length === 0;

    res.json({
      success: true,
      data: health
    });
  } catch (error) {
    console.error('Error checking system health:', error);
    res.status(500).json({
      success: false,
      message: 'Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',
      error: error.message
    });
  }
});

/**
 * POST /api/financial/recalculate-balances
 * Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ù…Ù† Ø§Ù„Ù‚ÙŠÙˆØ¯
 */
router.post('/recalculate-balances', authenticateToken, requireRole(['admin']), async (req, res) => {
  const transaction = await sequelize.transaction();
  
  try {
    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø©...');
    
    // 1. Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¥Ù„Ù‰ ØµÙØ±
    await Account.update(
      { balance: 0 },
      { where: {}, transaction }
    );

    // 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ù…Ù† GL Entries
    const balances = await sequelize.query(`
      SELECT 
        "accountId",
        SUM(debit - credit) as calculated_balance
      FROM gl_entries
      GROUP BY "accountId"
    `, { type: sequelize.QueryTypes.SELECT, transaction });

    // 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø©
    for (const balance of balances) {
      await Account.update(
        { balance: balance.calculated_balance },
        { where: { id: balance.accountId }, transaction }
      );
    }

    await transaction.commit();

    console.log(`âœ… ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø£Ø±ØµØ¯Ø© ${balances.length} Ø­Ø³Ø§Ø¨`);

    res.json({
      success: true,
      message: 'ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¨Ù†Ø¬Ø§Ø­',
      accountsUpdated: balances.length
    });
  } catch (error) {
    await transaction.rollback();
    console.error('Error recalculating balances:', error);
    res.status(500).json({
      success: false,
      message: 'Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø©',
      error: error.message
    });
  }
});
```

---

## âœ… Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰

Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŒ Ø³ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ:

1. âœ… AccountMapping Ù†Ø´Ø· ÙˆØ¬Ø§Ù‡Ø²
2. âœ… Ø¯Ù„ÙŠÙ„ Ø­Ø³Ø§Ø¨Ø§Øª ÙƒØ§Ù…Ù„ Ù„Ù„Ø´Ø­Ù† Ø§Ù„Ø¯ÙˆÙ„ÙŠ
3. âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
4. âœ… Database Triggers Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
5. âœ… Ù†Ø¸Ø§Ù… ØªÙ‡ÙŠØ¦Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
6. âœ… endpoint Ù„ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
7. âœ… Ø£Ø¯Ø§Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø©
8. âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© ØµØ­ÙŠØ­Ø© Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ (Ù„Ø§ ØªØ¬Ø§Ù‡Ù„)

**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ø¯Ù„Ø©/Ø§Ù„Ù…Ø¶Ø§ÙØ©**:
- âœ… `server/src/utils/accountingInitializer.js` (Ø¬Ø¯ÙŠØ¯)
- âœ… `server/src/models/Customer.js` (Ù…Ø¹Ø¯Ù„)
- âœ… `server/src/models/Supplier.js` (Ù…Ø¹Ø¯Ù„)
- âœ… `server/src/routes/sales.js` (Ù…Ø¹Ø¯Ù„)
- âœ… `server/src/routes/financial.js` (Ù…Ø¹Ø¯Ù„)
- âœ… `server/src/server.js` (Ù…Ø¹Ø¯Ù„)
- âœ… `server/database/triggers/account_balance_triggers.sql` (Ø¬Ø¯ÙŠØ¯)
- âœ… `server/src/scripts/installTriggers.js` (Ø¬Ø¯ÙŠØ¯)

---

## ğŸš€ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
**Ø§Ù„Ù…Ø¯Ø©**: 3 Ø£Ø³Ø§Ø¨ÙŠØ¹  
**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: Ø¹Ø§Ù„ÙŠØ© ğŸŸ¡

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù„Ø«: Ù†Ø¸Ø§Ù… Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù‚ÙØ§Ù„Ø§Øª

#### Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:

1. **Ù†Ø¸Ø§Ù… Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© (Accounting Periods)**
```javascript
// Ù…Ù„Ù: server/src/models/AccountingPeriod.js - ØªØ­Ø³ÙŠÙ†

// Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ù„ Ø¬Ø¯ÙŠØ¯Ø©:
AccountingPeriod.getCurrentPeriod = async function() {
  return await this.findOne({
    where: {
      startDate: { [Op.lte]: new Date() },
      endDate: { [Op.gte]: new Date() },
      status: 'open'
    }
  });
};

AccountingPeriod.closePeriod = async function(periodId, userId) {
  const transaction = await sequelize.transaction();
  
  try {
    const period = await this.findByPk(periodId, { transaction });
    
    if (!period) throw new Error('Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
    if (period.status === 'closed') throw new Error('Ø§Ù„ÙØªØ±Ø© Ù…Ù‚ÙÙ„Ø© Ø¨Ø§Ù„ÙØ¹Ù„');
    
    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆØ§Ø²Ù† Ø§Ù„Ù‚ÙŠÙˆØ¯
    const unbalancedEntries = await JournalEntry.count({
      where: {
        date: {
          [Op.between]: [period.startDate, period.endDate]
        },
        totalDebit: { [Op.ne]: sequelize.col('totalCredit') }
      },
      transaction
    });
    
    if (unbalancedEntries > 0) {
      throw new Error(`ÙŠÙˆØ¬Ø¯ ${unbalancedEntries} Ù‚ÙŠØ¯ ØºÙŠØ± Ù…ØªÙˆØ§Ø²Ù† ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØªØ±Ø©`);
    }
    
    // 2. Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù‚ÙØ§Ù„
    const closingEntry = await this.createClosingEntry(period, userId, transaction);
    
    // 3. Ø¥Ù‚ÙØ§Ù„ Ø§Ù„ÙØªØ±Ø©
    await period.update({
      status: 'closed',
      closedBy: userId,
      closedAt: new Date(),
      closingEntryId: closingEntry.id
    }, { transaction });
    
    await transaction.commit();
    return period;
  } catch (error) {
    await transaction.rollback();
    throw error;
  }
};

AccountingPeriod.createClosingEntry = async function(period, userId, transaction) {
  // Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…ØµØ±ÙˆÙØ§Øª
  const { Account, JournalEntry, JournalEntryDetail, GLEntry } = sequelize.models;
  
  // Ø­Ø³Ø§Ø¨ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­/Ø§Ù„Ø®Ø³Ø§Ø±Ø©
  const revenueAccounts = await Account.findAll({
    where: { type: 'revenue', isActive: true },
    transaction
  });
  
  const expenseAccounts = await Account.findAll({
    where: { type: 'expense', isActive: true },
    transaction
  });
  
  let totalRevenue = 0;
  let totalExpense = 0;
  
  for (const account of revenueAccounts) {
    totalRevenue += parseFloat(account.balance || 0);
  }
  
  for (const account of expenseAccounts) {
    totalExpense += parseFloat(account.balance || 0);
  }
  
  const netIncome = totalRevenue - totalExpense;
  
  // Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù‚ÙØ§Ù„
  const closingEntry = await JournalEntry.create({
    entryNumber: `CLOSE-${period.name}`,
    date: period.endDate,
    description: `Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©: ${period.name}`,
    totalDebit: Math.abs(netIncome),
    totalCredit: Math.abs(netIncome),
    status: 'posted',
    type: 'closing',
    createdBy: userId
  }, { transaction });
  
  // ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù‚ÙŠØ¯...
  // (Ø³ÙŠØªÙ… Ø¥ÙƒÙ…Ø§Ù„Ù‡Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„)
  
  return closingEntry;
};
```

2. **Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ø²Ù†Ø§Øª (Budgeting)**
3. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©**
4. **Ù†Ø¸Ø§Ù… Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªÙƒÙ„ÙØ©**

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø±Ø§Ø¨Ø¹: Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **Ù†Ø¸Ø§Ù… Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ**
```javascript
// Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯: server/src/services/exchangeRateService.js

class ExchangeRateService {
  /**
   * Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù Ù…Ù† API Ø®Ø§Ø±Ø¬ÙŠ
   */
  static async fetchExchangeRate(fromCurrency, toCurrency, date = new Date()) {
    // Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ API Ù…Ø«Ù„ exchangerate-api.com
    // Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø¹Ø§Ø± Ø«Ø§Ø¨ØªØ© Ù„Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„Ù„ÙŠØ¨ÙŠ
    
    const rates = {
      'USD_LYD': 4.85,
      'EUR_LYD': 5.20,
      'CNY_LYD': 0.68,
      'LYD_USD': 0.206,
      'LYD_EUR': 0.192,
      'LYD_CNY': 1.47
    };
    
    const key = `${fromCurrency}_${toCurrency}`;
    return rates[key] || 1.0;
  }
  
  /**
   * ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ù…Ù† Ø¹Ù…Ù„Ø© Ù„Ø£Ø®Ø±Ù‰
   */
  static async convertAmount(amount, fromCurrency, toCurrency, date = new Date()) {
    if (fromCurrency === toCurrency) return amount;
    
    const rate = await this.fetchExchangeRate(fromCurrency, toCurrency, date);
    return amount * rate;
  }
}
```

2. **ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Øª**
3. **Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ©**

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø³: Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ**
2. **Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ**
3. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ©**

---

## ğŸš¢ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø´Ø­Ù† Ø§Ù„Ø¯ÙˆÙ„ÙŠ
**Ø§Ù„Ù…Ø¯Ø©**: 3 Ø£Ø³Ø§Ø¨ÙŠØ¹  
**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: Ø¹Ø§Ù„ÙŠØ© ğŸŸ¡

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø³Ø§Ø¯Ø³: Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø­Ù†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **ØªØªØ¨Ø¹ Ø§Ù„Ø´Ø­Ù†Ø§Øª Ù…Ù† Ø§Ù„ØµÙŠÙ† Ø¥Ù„Ù‰ Ù„ÙŠØ¨ÙŠØ§**
```javascript
// Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯: server/src/models/InternationalShipment.js

export default (sequelize) => {
  const InternationalShipment = sequelize.define('InternationalShipment', {
    id: {
      type: DataTypes.UUID,
      defaultValue: DataTypes.UUIDV4,
      primaryKey: true
    },
    shipmentNumber: {
      type: DataTypes.STRING(50),
      unique: true,
      allowNull: false
    },
    // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù†Ø©
    originPort: {
      type: DataTypes.STRING(100),
      allowNull: false,
      comment: 'Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ø´Ø­Ù† ÙÙŠ Ø§Ù„ØµÙŠÙ†'
    },
    destinationPort: {
      type: DataTypes.STRING(100),
      allowNull: false,
      comment: 'Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„ÙˆØµÙˆÙ„ ÙÙŠ Ù„ÙŠØ¨ÙŠØ§ (Ø·Ø±Ø§Ø¨Ù„Ø³/Ø¨Ù†ØºØ§Ø²ÙŠ/Ù…ØµØ±Ø§ØªØ©)'
    },
    containerNumber: {
      type: DataTypes.STRING(50),
      comment: 'Ø±Ù‚Ù… Ø§Ù„Ø­Ø§ÙˆÙŠØ©'
    },
    containerType: {
      type: DataTypes.ENUM('20ft', '40ft', '40ft_hc', 'lcl'),
      defaultValue: '40ft'
    },
    // Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
    loadingDate: {
      type: DataTypes.DATEONLY,
      comment: 'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ù…ÙŠÙ„'
    },
    etd: {
      type: DataTypes.DATEONLY,
      comment: 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹'
    },
    eta: {
      type: DataTypes.DATEONLY,
      comment: 'ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹'
    },
    actualArrivalDate: {
      type: DataTypes.DATEONLY,
      comment: 'ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„ÙØ¹Ù„ÙŠ'
    },
    customsClearanceDate: {
      type: DataTypes.DATEONLY,
      comment: 'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ®Ù„ÙŠØµ Ø§Ù„Ø¬Ù…Ø±ÙƒÙŠ'
    },
    deliveryDate: {
      type: DataTypes.DATEONLY,
      comment: 'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ù„ÙŠÙ… Ù„Ù„Ø¹Ù…ÙŠÙ„'
    },
    // Ø§Ù„Ø­Ø§Ù„Ø©
    status: {
      type: DataTypes.ENUM(
        'pending',           // Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
        'loaded',            // ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„
        'in_transit',        // ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚
        'arrived',           // ÙˆØµÙ„Øª
        'customs_clearance', // ÙÙŠ Ø§Ù„Ø¬Ù…Ø§Ø±Ùƒ
        'cleared',           // ØªÙ… Ø§Ù„ØªØ®Ù„ÙŠØµ
        'delivered',         // ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…
        'completed'          // Ù…ÙƒØªÙ…Ù„Ø©
      ),
      defaultValue: 'pending'
    },
    // Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
    freightCost: {
      type: DataTypes.DECIMAL(15, 2),
      defaultValue: 0,
      comment: 'ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù†'
    },
    customsDuties: {
      type: DataTypes.DECIMAL(15, 2),
      defaultValue: 0,
      comment: 'Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¬Ù…Ø±ÙƒÙŠØ©'
    },
    portCharges: {
      type: DataTypes.DECIMAL(15, 2),
      defaultValue: 0,
      comment: 'Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡'
    },
    insuranceCost: {
      type: DataTypes.DECIMAL(15, 2),
      defaultValue: 0,
      comment: 'ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ£Ù…ÙŠÙ†'
    },
    otherCosts: {
      type: DataTypes.DECIMAL(15, 2),
      defaultValue: 0,
      comment: 'ØªÙƒØ§Ù„ÙŠÙ Ø£Ø®Ø±Ù‰'
    },
    totalCost: {
      type: DataTypes.DECIMAL(15, 2),
      defaultValue: 0,
      comment: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒÙ„ÙØ©'
    },
    // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    shippingLine: {
      type: DataTypes.STRING(100),
      comment: 'Ø®Ø· Ø§Ù„Ø´Ø­Ù†'
    },
    vesselName: {
      type: DataTypes.STRING(100),
      comment: 'Ø§Ø³Ù… Ø§Ù„Ø³ÙÙŠÙ†Ø©'
    },
    billOfLadingNumber: {
      type: DataTypes.STRING(50),
      comment: 'Ø±Ù‚Ù… Ø¨ÙˆÙ„ÙŠØµØ© Ø§Ù„Ø´Ø­Ù† (B/L)'
    },
    notes: {
      type: DataTypes.TEXT
    }
  }, {
    tableName: 'international_shipments',
    timestamps: true
  });

  // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
  InternationalShipment.associate = (models) => {
    InternationalShipment.hasMany(models.ShipmentItem, {
      foreignKey: 'shipmentId',
      as: 'items'
    });
    InternationalShipment.belongsTo(models.User, {
      foreignKey: 'createdBy',
      as: 'creator'
    });
  };

  return InternationalShipment;
};
```

2. **Ù†Ø¸Ø§Ù… ØªØªØ¨Ø¹ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª**
3. **Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ**
4. **ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø´Ø­Ù† (APIs)**

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø³Ø§Ø¨Ø¹: Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ù„ÙŠØµ Ø§Ù„Ø¬Ù…Ø±ÙƒÙŠ

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ø¬Ù…Ø±ÙƒÙŠØ©**
2. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¬Ù…Ø±ÙƒÙŠØ©**
3. **ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ®Ù„ÙŠØµ**
4. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¬Ù…Ø§Ø±Ùƒ**

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù…Ù†: Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **Ù…Ø®Ø§Ø²Ù† Ù…ØªØ¹Ø¯Ø¯Ø© (Ø§Ù„ØµÙŠÙ† - Ù„ÙŠØ¨ÙŠØ§)**
2. **Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯**
3. **Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†**
4. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©**

---

## ğŸ“Š Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©: Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
**Ø§Ù„Ù…Ø¯Ø©**: Ø£Ø³Ø¨ÙˆØ¹Ø§Ù†  
**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: Ù…ØªÙˆØ³Ø·Ø© ğŸŸ¢

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„ØªØ§Ø³Ø¹: Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… ØªÙ†ÙÙŠØ°ÙŠØ©

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **Dashboard Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù„ÙŠØ§**
```javascript
// Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯: server/src/routes/executiveDashboard.js

router.get('/executive-summary', authenticateToken, requireRole(['admin', 'manager']), async (req, res) => {
  try {
    const { period = 'month' } = req.query;
    
    // 1. Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„ÙŠ
    const financialPerformance = await getFinancialPerformance(period);
    
    // 2. Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    const salesPerformance = await getSalesPerformance(period);
    
    // 3. Ø§Ù„Ø´Ø­Ù†Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
    const activeShipments = await getActiveShipments();
    
    // 4. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø£ÙƒØ«Ø± Ø±Ø¨Ø­ÙŠØ©
    const topCustomers = await getTopCustomers(period);
    
    // 5. Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ
    const cashFlow = await getCashFlowSummary(period);
    
    // 6. Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (KPIs)
    const kpis = {
      revenueGrowth: calculateGrowth(financialPerformance),
      profitMargin: calculateProfitMargin(financialPerformance),
      customerRetention: await calculateRetention(period),
      averageShipmentTime: await calculateAvgShipmentTime(period),
      onTimeDelivery: await calculateOnTimeDelivery(period)
    };
    
    res.json({
      success: true,
      data: {
        financialPerformance,
        salesPerformance,
        activeShipments,
        topCustomers,
        cashFlow,
        kpis,
        generatedAt: new Date()
      }
    });
  } catch (error) {
    console.error('Error generating executive summary:', error);
    res.status(500).json({ success: false, error: error.message });
  }
});
```

2. **ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø®ØµØµØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØµØ¯ÙŠØ±**
3. **ØªØ­Ù„ÙŠÙ„Ø§Øª ØªÙ†Ø¨Ø¤ÙŠØ©**
4. **ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ù‚Ø§Ø±Ù†Ø© (Year-over-Year)**

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø¹Ø§Ø´Ø±: ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù…Ø©

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„**
2. **ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø®Ø· Ø§Ù„Ù…Ù„Ø§Ø­ÙŠ**
3. **ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ**
4. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡**

---

## ğŸ¤– Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©: Ø§Ù„ØªÙƒØ§Ù…Ù„ ÙˆØ§Ù„Ø£ØªÙ…ØªØ©
**Ø§Ù„Ù…Ø¯Ø©**: Ø£Ø³Ø¨ÙˆØ¹Ø§Ù†  
**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: Ù…ØªÙˆØ³Ø·Ø© ğŸŸ¢

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±: Ø§Ù„Ø£ØªÙ…ØªØ© ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©**
```javascript
// Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©:
- ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø´Ø­Ù†Ø©
- ØªÙ†Ø¨ÙŠÙ‡ Ù‚Ø¨Ù„ Ø§Ø³ØªØ­Ù‚Ø§Ù‚ ÙØ§ØªÙˆØ±Ø©
- ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯ ØªØ¬Ø§ÙˆØ² Ø­Ø¯ Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ
- ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØªØ®Ù„ÙŠØµ Ø§Ù„Ø¬Ù…Ø±ÙƒÙŠ
- ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
```

2. **Ù…Ù‡Ø§Ù… Ù…Ø¬Ø¯ÙˆÙ„Ø© (Cron Jobs)**
```javascript
// Ù…Ù„Ù: server/src/services/scheduledTasks.js

import cron from 'node-cron';

class ScheduledTasks {
  static initialize() {
    // 1. ØªØ­Ø¯ÙŠØ« Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù ÙŠÙˆÙ…ÙŠØ§Ù‹
    cron.schedule('0 9 * * *', async () => {
      await ExchangeRateService.updateRates();
    });
    
    // 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ Ø´Ù‡Ø±ÙŠØ§Ù‹
    cron.schedule('0 0 1 * *', async () => {
      await DepreciationService.calculateMonthlyDepreciation();
    });
    
    // 3. Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
    cron.schedule('0 8 * * *', async () => {
      await ReportService.sendDailySummary();
    });
    
    // 4. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø­Ù†Ø§Øª
    cron.schedule('0 */6 * * *', async () => {
      await ShipmentTrackingService.updateShipmentStatuses();
    });
  }
}
```

3. **ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ**
4. **ØªÙƒØ§Ù…Ù„ Ù…Ø¹ WhatsApp Business API**

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø±: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªÙˆØ«ÙŠÙ‚

#### Ø§Ù„Ù…Ù‡Ø§Ù…:

1. **Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„Ø©**
2. **ØªÙˆØ«ÙŠÙ‚ API**
3. **Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**
4. **ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØªØ¯Ø±ÙŠØ¨ÙŠØ©**

---

## ğŸ“ˆ Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­ (KPIs)

### Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:
- âœ… 100% Ù…Ù† Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ù„Ù‡Ø§ Ù‚ÙŠÙˆØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠØ©
- âœ… 0 Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
- âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

### Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:
- âœ… Ù†Ø¸Ø§Ù… ÙØªØ±Ø§Øª Ù…Ø­Ø§Ø³Ø¨ÙŠØ© ÙƒØ§Ù…Ù„
- âœ… Ø¯Ø¹Ù… 4 Ø¹Ù…Ù„Ø§Øª (LYD, USD, EUR, CNY)
- âœ… ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø§Ù„ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©

### Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©:
- âœ… ØªØªØ¨Ø¹ 100% Ù…Ù† Ø§Ù„Ø´Ø­Ù†Ø§Øª
- âœ… Ø­Ø³Ø§Ø¨ ØªÙƒØ§Ù„ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ
- âœ… ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø´Ø­Ù†

### Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©:
- âœ… Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… ØªÙ†ÙÙŠØ°ÙŠØ© ÙƒØ§Ù…Ù„Ø©
- âœ… 20+ ØªÙ‚Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù…
- âœ… ØªØ­Ù„ÙŠÙ„Ø§Øª ØªÙ†Ø¨Ø¤ÙŠØ©

### Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©:
- âœ… Ø£ØªÙ…ØªØ© 80% Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- âœ… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙˆØ±ÙŠØ©
- âœ… ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©

---

## ğŸ› ï¸ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### Backend:
- âœ… Node.js 18+
- âœ… Express.js
- âœ… PostgreSQL 15+
- âœ… Sequelize ORM
- âœ… Redis (Ù„Ù„Ù€ caching)
- âœ… Node-cron (Ù„Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø©)
- âœ… Winston (Ù„Ù„Ù€ logging)

### Frontend:
- âœ… React 18+
- âœ… TypeScript
- âœ… TailwindCSS
- âœ… Chart.js / Recharts
- âœ… React Query
- âœ… Zustand (state management)

### DevOps:
- âœ… Docker
- âœ… GitHub Actions (CI/CD)
- âœ… PM2 (process manager)

---

## ğŸ’° Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©

### ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ·ÙˆÙŠØ±:
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: 2 Ø£Ø³Ø§Ø¨ÙŠØ¹ Ã— Ù…Ø·ÙˆØ± ÙˆØ§Ø­Ø¯
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: 3 Ø£Ø³Ø§Ø¨ÙŠØ¹ Ã— Ù…Ø·ÙˆØ± ÙˆØ§Ø­Ø¯
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: 3 Ø£Ø³Ø§Ø¨ÙŠØ¹ Ã— Ù…Ø·ÙˆØ± ÙˆØ§Ø­Ø¯
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©: 2 Ø£Ø³Ø§Ø¨ÙŠØ¹ Ã— Ù…Ø·ÙˆØ± ÙˆØ§Ø­Ø¯
- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©: 2 Ø£Ø³Ø§Ø¨ÙŠØ¹ Ã— Ù…Ø·ÙˆØ± ÙˆØ§Ø­Ø¯

**Ø¥Ø¬Ù…Ø§Ù„ÙŠ**: 12 Ø£Ø³Ø¨ÙˆØ¹

### ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© (Ø´Ù‡Ø±ÙŠØ§Ù‹):
- Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL: $20-50
- Redis: $10-20
- Hosting: $30-100
- Backup Storage: $10-20
- Email Service: $10-30

**Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ù‡Ø±ÙŠ**: $80-220

---

## ğŸ“ Ø§Ù„Ø®Ù„Ø§ØµØ©

Ù‡Ø°Ù‡ Ø®Ø·Ø© Ø¹Ù…Ù„ Ø´Ø§Ù…Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ù†Ø¸Ø§Ù… Golden Horse Ø¥Ù„Ù‰ Ù…Ù†Ø¸ÙˆÙ…Ø© Ù…Ø§Ù„ÙŠØ© ÙˆÙ…Ø¨ÙŠØ¹Ø§Øª Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ù„Ø´Ø±ÙƒØ© Ø´Ø­Ù† Ø¯ÙˆÙ„ÙŠØ©.

### Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª:
1. ğŸ”´ **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰** (Ø£Ø³Ø¨ÙˆØ¹Ø§Ù†): Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø­Ø±Ø¬Ø© - **Ø§Ø¨Ø¯Ø£ ÙÙˆØ±Ø§Ù‹**
2. ğŸŸ¡ **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©** (3 Ø£Ø³Ø§Ø¨ÙŠØ¹): ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
3. ğŸŸ¡ **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©** (3 Ø£Ø³Ø§Ø¨ÙŠØ¹): Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¯ÙˆÙ„ÙŠ
4. ğŸŸ¢ **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©** (Ø£Ø³Ø¨ÙˆØ¹Ø§Ù†): Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
5. ğŸŸ¢ **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©** (Ø£Ø³Ø¨ÙˆØ¹Ø§Ù†): Ø§Ù„Ø£ØªÙ…ØªØ© ÙˆØ§Ù„ØªÙƒØ§Ù…Ù„

### Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:
**Ø§Ø¨Ø¯Ø£ Ø¨ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø§Ù„ÙŠÙˆÙ… 1-2** Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·Ø©!

---

**ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·Ø© Ø¨ÙˆØ§Ø³Ø·Ø©**: Cascade AI  
**Ø§Ù„ØªØ§Ø±ÙŠØ®**: 2025-10-01  
**Ø§Ù„Ø­Ø§Ù„Ø©**: Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªÙ†ÙÙŠØ° âœ…
