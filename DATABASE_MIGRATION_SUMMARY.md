# ููุฎุต ุชุฑุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
## Golden Horse Shipping System

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1๏ธโฃ ุญุฐู ุงูุณูุฑูุจุช ุงูุชููุงุฆู ููุญุณุงุจุงุช
**ุงูููู ุงููุญุฐูู**: `server/src/utils/accountingInitializer.js`

**ุงูุณุจุจ**:
- ูุงู ููุดุฆ ุญุณุงุจุงุช ุชููุงุฆูุงู ุจุชุฑููู 1000-5000
- ูุนูู ุนูุฏ ูู ุจุฏุก ุชุดุบูู ููุณูุฑูุฑ
- ุบูุฑ ูุฑุบูุจ ููู ููุชุญูู ุงููุฏูู

**ุงูุญุณุงุจุงุช ุงูุชู ูุงู ููุดุฆูุง**:
```
1000 - ุงูุฃุตูู
  1100 - ุงูุฃุตูู ุงููุชุฏุงููุฉ
    1101 - ุงูููุฏูุฉ
    1102 - ุงูุจูู
  1201 - ุฐูู ุงูุนููุงุก

2000 - ุงูุฎุตูู
  2100 - ุงูุฎุตูู ุงููุชุฏุงููุฉ
  2201 - ุฐูู ุงูููุฑุฏูู
  2301 - ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ

3000 - ุญููู ุงูููููุฉ
  3101 - ุฑุฃุณ ุงููุงู
  3201 - ุงูุฃุฑุจุงุญ ุงููุญุชุฌุฒุฉ

4000 - ุงูุฅูุฑุงุฏุงุช
  4101 - ุฅูุฑุงุฏุงุช ุฎุฏูุงุช ุงูุดุญู ุงูุจุญุฑู
  4102 - ุฎุตููุงุช ุงููุจูุนุงุช
  4103 - ุฅูุฑุงุฏุงุช ุฎุฏูุงุช ุงูุชุฎููุต ุงูุฌูุฑูู
  4104 - ุฅูุฑุงุฏุงุช ุฎุฏูุงุช ุงูุชุฎุฒูู
  4105 - ุฅูุฑุงุฏุงุช ุฎุฏูุงุช ุงูุชุฃููู

5000 - ุงููุตุฑููุงุช
  5101 - ุชูููุฉ ุงูุดุญู
  5102 - ุฑูุงุชุจ ุงูููุธููู
  5103 - ุฅูุฌุงุฑุงุช
  5104 - ูุตุงุฑูู ุฅุฏุงุฑูุฉ
  5105 - ูุตุงุฑูู ุงูุฌูุงุฑู ูุงูุฑุณูู
```

---

### 2๏ธโฃ ุฅูุดุงุก ุณูุฑูุจุช ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูููู**: `server/clean-database.js`

**ุงููุธุงุฆู**:
- โ ุญุฐู ุฌููุน ุงูุฌุฏุงูู
- โ ุญุฐู ุฌุฏูู ุงูุชุฑุญููุงุช (SequelizeMeta)
- โ ุชูุธูู ูุงูู ููุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูุชุฑุฉ ุงูุชุธุงุฑ 5 ุซูุงูู ููุฅูุบุงุก

**ุงูุงุณุชุฎุฏุงู**:
```bash
cd server
node clean-database.js
```

**ุงูุฅุฎุฑุงุฌ**:
```
๐ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช...
โ ุชู ุงูุงุชุตุงู ุจูุฌุงุญ

โ๏ธ  ุชุญุฐูุฑ: ุณูุชู ุญุฐู ุฌููุน ุงูุฌุฏุงูู ูุงูุจูุงูุงุช!
โณ ุงูุงูุชุธุงุฑ 5 ุซูุงูู... (ุงุถุบุท Ctrl+C ููุฅูุบุงุก)

๐๏ธ  ุจุฏุก ุนูููุฉ ุงูุชูุธูู...

๐ ุชู ุงูุนุซูุฑ ุนูู 22 ุฌุฏูู

๐๏ธ  ุญุฐู ุงูุฌุฏุงูู...

   โ ุชู ุญุฐู: users
   โ ุชู ุญุฐู: customers
   โ ุชู ุญุฐู: suppliers
   ... (ุฌููุน ุงูุฌุฏุงูู)

โ ุชู ุญุฐู 22 ูู 22 ุฌุฏูู ุจูุฌุงุญ
โ ุชู ุญุฐู ุฌุฏูู ุงูุชุฑุญููุงุช (SequelizeMeta)

โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุธููุฉ ุชูุงูุงู!

โ ุงูุชููุช ุนูููุฉ ุงูุชูุธูู ุจูุฌุงุญ
```

---

### 3๏ธโฃ ุฅูุดุงุก ุณูุฑูุจุช ูุงุญุฏ ุดุงูู ููุฌุฏุงูู
**ุงูููู**: `server/create-all-tables.js`

**ุงููุธุงุฆู**:
- โ ููุดุฆ 22 ุฌุฏูู ุฑุฆูุณู
- โ ููุดุฆ 13 index ููุฃุฏุงุก
- โ ููุดุฆ UUID extension
- โ ููุดุฆ Foreign Keys
- โ ูุณุชุจุฏู ุฌููุน ูููุงุช ุงูุชุฑุญููุงุช

**ุงูุฌุฏุงูู ุงูููุดุฃุฉ** (22 ุฌุฏูู):

#### ุงููุณุชุฎุฏููู ูุงูุฃุทุฑุงู:
1. `users` - ุงููุณุชุฎุฏููู
2. `customers` - ุงูุนููุงุก
3. `suppliers` - ุงูููุฑุฏูู

#### ุงููุธุงู ุงููุญุงุณุจู:
4. `accounts` - ุฏููู ุงูุญุณุงุจุงุช
5. `account_mappings` - ุฑุจุท ุงูุญุณุงุจุงุช
6. `gl_journals` - ุงูููููุงุช ุงูุนุงูุฉ
7. `posting_journal_entries` - ูููุฏ ุงูููููุฉ
8. `journal_entries` - ุงููููุฏ ุงููุญุงุณุจูุฉ
9. `journal_entry_details` - ุชูุงุตูู ุงููููุฏ
10. `account_provisions` - ุงููุฎุตุตุงุช

#### ุงููุจูุนุงุช ูุงูููุงุชูุฑ:
11. `sales_invoices` - ููุงุชูุฑ ุงููุจูุนุงุช
12. `sales_invoice_items` - ุจููุฏ ุงูููุงุชูุฑ
13. `shipping_invoices` - ููุงุชูุฑ ุงูุดุญู
14. `invoice_payments` - ุฏูุนุงุช ุงูููุงุชูุฑ
15. `invoice_receipts` - ุฅูุตุงูุงุช ุงูููุงุชูุฑ

#### ุงูุณูุฏุงุช ุงููุงููุฉ:
16. `receipt_vouchers` - ุณูุฏุงุช ุงููุจุถ
17. `payment_vouchers` - ุณูุฏุงุช ุงูุตุฑู

#### ุงูุดุญูุงุช:
18. `shipments` - ุงูุดุญูุงุช
19. `shipment_movements` - ุญุฑูุงุช ุงูุดุญูุงุช

#### ุงูุฃุตูู ุงูุซุงุจุชุฉ:
20. `fixed_assets` - ุงูุฃุตูู ุงูุซุงุจุชุฉ
21. `depreciation_entries` - ูููุฏ ุงูุฅููุงู

#### ุฃุฎุฑู:
22. `notifications` - ุงูุฅุดุนุงุฑุงุช

**ุงูุงุณุชุฎุฏุงู**:
```bash
cd server
node create-all-tables.js
```

**ุงูุฅุฎุฑุงุฌ**:
```
๐ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช...
โ ุชู ุงูุงุชุตุงู ุจูุฌุงุญ

๐๏ธ  ุจุฏุก ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู...

โ ุชู ุชูุนูู UUID extension

๐ ุฅูุดุงุก ุฌุฏูู Users...
โ Users

๐ ุฅูุดุงุก ุฌุฏูู Customers...
โ Customers

... (ุฌููุน ุงูุฌุฏุงูู)

๐ ุฅูุดุงุก Indexes ููุฃุฏุงุก...

โ ุชู ุฅูุดุงุก 13 index

============================================================

โ ุงูุชูู ุฅูุดุงุก 22 ุฌุฏูู ุจูุฌุงุญ!
โ ุชู ุฅูุดุงุก 13 index ููุฃุฏุงุก

๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู!
```

---

### 4๏ธโฃ ุฅูุดุงุก ุฏููู ุงูุงุณุชุฎุฏุงู
**ุงูููู**: `server/DATABASE_SETUP.md`

**ุงููุญุชูู**:
- โ ุดุฑุญ ูุงูู ููุณูุฑูุจุชุงุช
- โ ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู
- โ ุจููุฉ ุงูุฌุฏุงูู ูุงูุนูุงูุงุช
- โ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก
- โ ููุงุญุธุงุช ูููุฉ

---

## ๐ฏ ุงูููุงุฆุฏ

### ูุจู ุงูุชุญุฏูุซ:
- โ 28 ููู ุชุฑุญูู ูููุตู
- โ ุญุณุงุจุงุช ุชููุดุฃ ุชููุงุฆูุงู ุนูุฏ ูู ุชุดุบูู
- โ ุตุนูุจุฉ ูู ุฅุนุงุฏุฉ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุนููุฏ ูู ุงูุตูุงูุฉ

### ุจุนุฏ ุงูุชุญุฏูุซ:
- โ ุณูุฑูุจุช ูุงุญุฏ ุดุงูู
- โ ุชุญูู ูุงูู ูู ุงูุจูุงูุงุช
- โ ุณูููุฉ ุฅุนุงุฏุฉ ุงูุจูุงุก ูู ุงูุตูุฑ
- โ ุตูุงูุฉ ุฃุจุณุท

---

## ๐ ุงูููุงุฑูุฉ

| ุงูููุฒุฉ | ูุจู | ุจุนุฏ |
|--------|-----|-----|
| ุนุฏุฏ ุงููููุงุช | 28 ููู | 2 ููู |
| ุฅูุดุงุก ุงูุฌุฏุงูู | ุชุฏุฑูุฌู | ุฏูุนุฉ ูุงุญุฏุฉ |
| ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ | ูุนู | ูุง |
| ุงูููุช ุงููุทููุจ | 5-10 ุฏูุงุฆู | ุฃูู ูู ุฏูููุฉ |
| ุณูููุฉ ุงูุตูุงูุฉ | ุตุนุจุฉ | ุณููุฉ |

---

## ๐ ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู ุงููุงููุฉ

### ุงูุณููุงุฑูู 1: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ

```bash
# 1. ุงูุงูุชูุงู ููุฌูุฏ ุงูุณูุฑูุฑ
cd server

# 2. ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู
node create-all-tables.js

# 3. ุชุดุบูู ุงูุณูุฑูุฑ
npm start
```

### ุงูุณููุงุฑูู 2: ุฅุนุงุฏุฉ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# 1. ุงูุงูุชูุงู ููุฌูุฏ ุงูุณูุฑูุฑ
cd server

# 2. ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
node clean-database.js

# 3. ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู
node create-all-tables.js

# 4. ุชุดุบูู ุงูุณูุฑูุฑ
npm start
```

---

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

### 1. ุงููุณุฎ ุงูุงุญุชูุงุทู
**ุฏุงุฆูุงู** ูู ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุงูุชูุธูู:
```bash
pg_dump -U username -d database > backup_$(date +%Y%m%d_%H%M%S).sql
```

### 2. ุงูุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ
**ูุง ุชุณุชุฎุฏู** `clean-database.js` ูู Production ุจุฏูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ!

### 3. ุงูุจูุงูุงุช ุงูุฃูููุฉ
ุงูุณูุฑูุจุช **ูุง** ููุดุฆ:
- ุญุณุงุจุงุช ุฏููู ุงูุญุณุงุจุงุช
- ูุณุชุฎุฏููู ุงูุชุฑุงุถููู
- ุจูุงูุงุช ุชุฌุฑูุจูุฉ

ูุฌุจ ุฅูุดุงุก ูุฐู ุงูุจูุงูุงุช ูุฏููุงู ุนุจุฑ:
- ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ
- API endpoints
- SQL scripts ูููุตูุฉ

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

### 1. ูููุงุช ุงูุชุฑุญููุงุช ุงููุฏููุฉ
ุงููููุงุช ูู `server/src/migrations/` **ูู ุชูุญุฐู** ููููุง:
- โ ูู ุชุนุฏ ูุณุชุฎุฏูุฉ
- โ ูุง ุญุงุฌุฉ ูุชุดุบูููุง
- โ ูููู ุญุฐููุง ุฃู ุงูุงุญุชูุงุธ ุจูุง ููุฑุฌุน

### 2. ุชูุณูู ุงูุฃุนูุฏุฉ
ุงูุณูุฑูุจุช ูุณุชุฎุฏู ุงูุชูุณูู ุงูุตุญูุญ:
- **camelCase**: ููุฌุฏุงูู ุงูุฌุฏูุฏุฉ (sales_invoices, customers, etc.)
- **snake_case**: ููุฌุฏุงูู ุงููุฏููุฉ (shipping_invoices, gl_journals, etc.)

### 3. Foreign Keys
ุฌููุน ุงูุนูุงูุงุช ูุญููุฉ:
- `ON DELETE CASCADE` ููุจููุฏ ุงูุชุงุจุนุฉ
- `REFERENCES` ููุนูุงูุงุช ุงูุฃุณุงุณูุฉ

### 4. Indexes
ุชู ุฅูุดุงุก indexes ุนูู:
- Foreign Keys
- ุฃุนูุฏุฉ ุงูุจุญุซ ุงูุดุงุฆุนุฉ
- ุฃุนูุฏุฉ ุงูุชุงุฑูุฎ
- ุฃุนูุฏุฉ ุงูุญุงูุฉ

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ูุง ุชู ุชุญูููู:
โ **ุญุฐู** ุงูุณูุฑูุจุช ุงูุชููุงุฆู ููุญุณุงุจุงุช  
โ **ุฅูุดุงุก** ุณูุฑูุจุช ุชูุธูู ุดุงูู  
โ **ุฅูุดุงุก** ุณูุฑูุจุช ูุงุญุฏ ูุฌููุน ุงูุฌุฏุงูู  
โ **ุชูุซูู** ูุงูู ููุงุณุชุฎุฏุงู  

### ุงููููุงุช ุงูุฌุฏูุฏุฉ:
1. `server/clean-database.js` - ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. `server/create-all-tables.js` - ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู
3. `server/DATABASE_SETUP.md` - ุฏููู ุงูุงุณุชุฎุฏุงู
4. `DATABASE_MIGRATION_SUMMARY.md` - ูุฐุง ุงูููู

### ุงููููุงุช ุงููุญุฐููุฉ:
1. `server/src/utils/accountingInitializer.js` - ุงูุณูุฑูุจุช ุงูุชููุงุฆู

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุตู ุจูุง

### 1. ุฅูุดุงุก ุณูุฑูุจุช ููุจูุงูุงุช ุงูุฃูููุฉ (ุงุฎุชูุงุฑู)
```javascript
// server/seed-initial-data.js
// ูุฅูุดุงุก:
// - ูุณุชุฎุฏู admin
// - ุญุณุงุจุงุช ุฏููู ุงูุญุณุงุจุงุช ุงูุฃุณุงุณูุฉ
// - account_mappings
```

### 2. ุฅูุดุงุก ุณูุฑูุจุช ูููุณุฎ ุงูุงุญุชูุงุทู
```bash
# server/backup-database.sh
pg_dump -U $DB_USER -d $DB_NAME > backup_$(date +%Y%m%d_%H%M%S).sql
```

### 3. ุชุญุฏูุซ ุงูุชูุซูู
- โ ุฅุถุงูุฉ ูุนูููุงุช ุนู ุงูุจูุงูุงุช ุงูุฃูููุฉ ุงููุทููุจุฉ
- โ ุฅุถุงูุฉ ุฃูุซูุฉ ุนูู ุฅูุดุงุก ุงูุญุณุงุจุงุช ูุฏููุงู

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [x] ุญุฐู accountingInitializer.js
- [x] ุฅูุดุงุก clean-database.js
- [x] ุฅูุดุงุก create-all-tables.js
- [x] ุฅูุดุงุก DATABASE_SETUP.md
- [x] ุฅูุดุงุก DATABASE_MIGRATION_SUMMARY.md
- [ ] ุงุฎุชุจุงุฑ ุงูุณูุฑูุจุชุงุช ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
- [ ] ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญุงููุฉ
- [ ] ุชุดุบูู ุงูุณูุฑูุจุชุงุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุนููุฉ

---

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

*ุขุฎุฑ ุชุญุฏูุซ: 2025-10-05 10:18*
