# اختبار إيصالات القبض والصرف التلقائية

## التحديثات المنجزة

### 1. تعديل الواجهة الأمامية (Frontend)
- إزالة حقول اختيار الحسابات يدوياً
- إضافة حقول اختيار نوع الإيراد/المصروف
- إضافة رسالة توضيحية للمستخدم بأن الحسابات ستتم تلقائياً
- تبسيط النموذج ليتطلب فقط: المبلغ، التاريخ، طريقة الدفع، نوع العملية، الملاحظات

### 2. تعديل الخادم (Backend)
- تحسين منطق اختيار الحسابات التلقائي
- إضافة دعم لأنواع مختلفة من الإيرادات والمصروفات
- إضافة حساب مصروف الرواتب (2.2.1)

### 3. أنواع الحسابات المدعومة

#### للإيصالات (القبض):
- **إيراد عام**: يستخدم حساب إيرادات التخزين (5.1.1)
- **إيرادات التخزين**: حساب (5.1.1)
- **إيرادات المناولة**: حساب (5.1.2)
- **إيرادات الشحن**: حساب (5.1.3)
- **دفع من عميل**: ذمم عملاء (1.2.1)

#### للمدفوعات (الصرف):
- **مصروف عام**: مصروف مشتريات (2.1.1)
- **مصروف مشتريات**: حساب (2.1.1)
- **مصروف نقل**: حساب (2.1.2)
- **مصروف رواتب**: حساب (2.2.1)
- **دفع لمورد**: ذمم موردين (3.1.1)

#### حسابات الصندوق/المصرف (تلقائي):
- **نقداً**: الصندوق (1.1.1)
- **تحويل بنكي/شيك/بطاقة**: المصرف (1.1.2)

## كيفية الاختبار

### 1. إيصال قبض
1. اذهب إلى لوحة المبيعات → إيصالات مالية
2. اختر تبويب "القبض"
3. اضغط "إيصال قبض جديد"
4. أدخل:
   - المبلغ: 1000
   - التاريخ: اليوم
   - طريقة الدفع: نقداً
   - نوع الإيراد: إيرادات التخزين
   - ملاحظات: اختبار النظام التلقائي
5. احفظ

**النتيجة المتوقعة**: 
- مدين: الصندوق (1.1.1) بمبلغ 1000
- دائن: إيرادات التخزين (5.1.1) بمبلغ 1000

### 2. إيصال صرف
1. اختر تبويب "الصرف"
2. اضغط "إيصال صرف جديد"
3. أدخل:
   - المبلغ: 500
   - التاريخ: اليوم
   - طريقة الدفع: تحويل بنكي
   - نوع المصروف: مصروف نقل
   - ملاحظات: اختبار النظام التلقائي
4. احفظ

**النتيجة المتوقعة**:
- مدين: مصروف نقل (2.1.2) بمبلغ 500
- دائن: المصرف (1.1.2) بمبلغ 500

## الفوائد المحققة

1. **تبسيط العملية**: الموظف لا يحتاج لمعرفة أرقام الحسابات
2. **تقليل الأخطاء**: منع اختيار حسابات خاطئة
3. **توحيد المعايير**: ضمان استخدام الحسابات الصحيحة دائماً
4. **سرعة الإدخال**: تقليل الخطوات المطلوبة
5. **سهولة التدريب**: تدريب أسهل للموظفين الجدد

## ملاحظات مهمة

- النظام ينشئ الحسابات المطلوبة تلقائياً إذا لم تكن موجودة
- يتم إنشاء القيود المحاسبية تلقائياً
- يمكن للمستخدم اختيار طرف التعامل (عميل/موظف) اختيارياً
- النظام يدعم عملات مختلفة وأسعار صرف
